<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>QuantLib: DiscreteHedging.cpp</title>
<link href='http://fonts.googleapis.com/css?family=Merriweather+Sans:800' rel='stylesheet' type='text/css'>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../quantlibextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname"><a href="http://quantlib.org">
       <img alt="QuantLib" src="../../QL-title.jpg"></a>
   <div id="projectbrief">A free/open-source library for quantitative finance</div>
   <div id="projectnumber">Fully annotated sources - version 1.20</div>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DiscreteHedging.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>This example computes profit and loss of a discrete interval hedging strategy and compares with the outcome with the results of Derman and Kamal's Goldman Sachs Equity Derivatives Research Note "When You Cannot Hedge Continuously: The Corrections to
Black-Scholes". It shows the use of the Monte Carlo framework.</p>
<div class="fragment"><div class="line"><span class="comment">/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*  This example computes profit and loss of a discrete interval hedging</span></div>
<div class="line"><span class="comment">    strategy and compares with the results of Derman &amp; Kamal&#39;s (Goldman Sachs</span></div>
<div class="line"><span class="comment">    Equity Derivatives Research) Research Note: &quot;When You Cannot Hedge</span></div>
<div class="line"><span class="comment">    Continuously: The Corrections to Black-Scholes&quot;</span></div>
<div class="line"><span class="comment">    http://www.ederman.com/emanuelderman/GSQSpapers/when_you_cannot_hedge.pdf</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    Suppose an option hedger sells an European option and receives the</span></div>
<div class="line"><span class="comment">    Black-Scholes value as the options premium.</span></div>
<div class="line"><span class="comment">    Then he follows a Black-Scholes hedging strategy, rehedging at discrete,</span></div>
<div class="line"><span class="comment">    evenly spaced time intervals as the underlying stock changes. At</span></div>
<div class="line"><span class="comment">    expiration, the hedger delivers the option payoff to the option holder,</span></div>
<div class="line"><span class="comment">    and unwinds the hedge. We are interested in understanding the final</span></div>
<div class="line"><span class="comment">    profit or loss of this strategy.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    If the hedger had followed the exact Black-Scholes replication strategy,</span></div>
<div class="line"><span class="comment">    re-hedging continuously as the underlying stock evolved towards its final</span></div>
<div class="line"><span class="comment">    value at expiration, then, no matter what path the stock took, the final</span></div>
<div class="line"><span class="comment">    P&amp;L would be exactly zero. When the replication strategy deviates from</span></div>
<div class="line"><span class="comment">    the exact Black-Scholes method, the final P&amp;L may deviate from zero. This</span></div>
<div class="line"><span class="comment">    deviation is called the replication error. When the hedger rebalances at</span></div>
<div class="line"><span class="comment">    discrete rather than continuous intervals, the hedge is imperfect and the</span></div>
<div class="line"><span class="comment">    replication is inexact. The more often hedging occurs, the smaller the</span></div>
<div class="line"><span class="comment">    replication error.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    We examine the range of possibilities, computing the replication error.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;ql/qldefines.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef BOOST_MSVC</span></div>
<div class="line"><span class="preprocessor">#  include &lt;ql/auto_link.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#include &lt;ql/methods/montecarlo/montecarlomodel.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ql/processes/blackscholesprocess.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ql/termstructures/yield/flatforward.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ql/termstructures/volatility/equityfx/blackconstantvol.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ql/pricingengines/blackcalculator.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ql/quotes/simplequote.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ql/time/calendars/target.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ql/time/daycounters/actual365fixed.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iomanip&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d5/d7b/namespace_quant_lib.html">QuantLib</a>;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if defined(QL_ENABLE_SESSIONS)</span></div>
<div class="line"><span class="keyword">namespace </span><a class="code" href="../../d5/d7b/namespace_quant_lib.html">QuantLib</a> {</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="../../d5/d7b/namespace_quant_lib.html#afc1fa6a25515be394cb534495d704c1d">ThreadKey</a> sessionId() { <span class="keywordflow">return</span> 0; }</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/* The ReplicationError class carries out Monte Carlo simulations to evaluate</span></div>
<div class="line"><span class="comment">   the outcome (the replication error) of the discrete hedging strategy over</span></div>
<div class="line"><span class="comment">   different, randomly generated scenarios of future stock price evolution.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"><span class="keyword">class </span>ReplicationError</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    ReplicationError(<a class="code" href="../../d2/df1/class_quant_lib_1_1_option.html#a1d1cfd8ffb84e947f82999c682b666a7">Option::Type</a> type,</div>
<div class="line">                     <a name="_a0"></a><a class="code" href="../../d6/d2c/class_time.html">Time</a> maturity,</div>
<div class="line">                     <a name="a1"></a><a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> strike,</div>
<div class="line">                     <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> s0,</div>
<div class="line">                     <a name="a2"></a><a class="code" href="../../d6/d59/group__types.html#gaaa95ab7fe66935e3f7535413fad2a7d3">Volatility</a> sigma,</div>
<div class="line">                     <a name="a3"></a><a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> r)</div>
<div class="line">    : maturity_(maturity), payoff_(type, strike), s0_(s0),</div>
<div class="line">      sigma_(sigma), r_(r) {</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// value of the option</span></div>
<div class="line">        <a name="a4"></a><a class="code" href="../../d6/d59/group__types.html#ga642a971a0bcbbd2fb26c35e1a06e5761">DiscountFactor</a> rDiscount = std::exp(-r_*maturity_);</div>
<div class="line">        <a class="code" href="../../d6/d59/group__types.html#ga642a971a0bcbbd2fb26c35e1a06e5761">DiscountFactor</a> qDiscount = 1.0;</div>
<div class="line">        <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> forward = s0_*qDiscount/rDiscount;</div>
<div class="line">        <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> stdDev = std::sqrt(sigma_*sigma_*maturity_);</div>
<div class="line">        ext::shared_ptr&lt;StrikedTypePayoff&gt; payoff(</div>
<div class="line">                                             <span class="keyword">new</span> <a name="_a5"></a><a class="code" href="../../db/de6/class_quant_lib_1_1_plain_vanilla_payoff.html">PlainVanillaPayoff</a>(payoff_));</div>
<div class="line">        <a name="_a6"></a><a class="code" href="../../de/dac/class_quant_lib_1_1_black_calculator.html">BlackCalculator</a> black(payoff,forward,stdDev,rDiscount);</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Option value: &quot;</span> &lt;&lt; black.value() &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// store option&#39;s vega, since Derman and Kamal&#39;s formula needs it</span></div>
<div class="line">        vega_ = black.vega(maturity_);</div>
<div class="line"> </div>
<div class="line">        std::cout &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">        std::cout &lt;&lt; std::setw(8) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">                  &lt;&lt; std::setw(8) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">                  &lt;&lt; std::setw(8) &lt;&lt; <span class="stringliteral">&quot;P&amp;L&quot;</span> &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">                  &lt;&lt; std::setw(8) &lt;&lt; <span class="stringliteral">&quot;P&amp;L&quot;</span> &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">                  &lt;&lt; std::setw(12) &lt;&lt; <span class="stringliteral">&quot;Derman&amp;Kamal&quot;</span> &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">                  &lt;&lt; std::setw(8) &lt;&lt; <span class="stringliteral">&quot;P&amp;L&quot;</span> &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">                  &lt;&lt; std::setw(8) &lt;&lt; <span class="stringliteral">&quot;P&amp;L&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">        std::cout &lt;&lt; std::setw(8) &lt;&lt; <span class="stringliteral">&quot;samples&quot;</span> &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">                  &lt;&lt; std::setw(8) &lt;&lt; <span class="stringliteral">&quot;trades&quot;</span> &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">                  &lt;&lt; std::setw(8) &lt;&lt; <span class="stringliteral">&quot;mean&quot;</span> &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">                  &lt;&lt; std::setw(8) &lt;&lt; <span class="stringliteral">&quot;std.dev.&quot;</span> &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">                  &lt;&lt; std::setw(12) &lt;&lt; <span class="stringliteral">&quot;formula&quot;</span> &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">                  &lt;&lt; std::setw(8) &lt;&lt; <span class="stringliteral">&quot;skewness&quot;</span> &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">                  &lt;&lt; std::setw(8) &lt;&lt; <span class="stringliteral">&quot;kurtosis&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">        std::cout &lt;&lt; std::string(78, <span class="charliteral">&#39;-&#39;</span>) &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// the actual replication error computation</span></div>
<div class="line">    <span class="keywordtype">void</span> compute(<a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> nTimeSteps, <a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> nSamples);</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a class="code" href="../../d6/d2c/class_time.html">Time</a> maturity_;</div>
<div class="line">    <a class="code" href="../../db/de6/class_quant_lib_1_1_plain_vanilla_payoff.html">PlainVanillaPayoff</a> payoff_;</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> s0_;</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#gaaa95ab7fe66935e3f7535413fad2a7d3">Volatility</a> sigma_;</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> r_;</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> vega_;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// The key for the MonteCarlo simulation is to have a PathPricer that</span></div>
<div class="line"><span class="comment">// implements a value(const Path&amp; path) method.</span></div>
<div class="line"><span class="comment">// This method prices the portfolio for each Path of the random variable</span></div>
<div class="line"><span class="keyword">class </span>ReplicationPathPricer : <span class="keyword">public</span> <a name="_a7"></a><a class="code" href="../../dd/d4a/class_quant_lib_1_1_path_pricer.html">PathPricer</a>&lt;Path&gt; {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// real constructor</span></div>
<div class="line">    ReplicationPathPricer(<a class="code" href="../../d2/df1/class_quant_lib_1_1_option.html#a1d1cfd8ffb84e947f82999c682b666a7">Option::Type</a> type,</div>
<div class="line">                          <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> strike,</div>
<div class="line">                          <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> r,</div>
<div class="line">                          <a class="code" href="../../d6/d2c/class_time.html">Time</a> maturity,</div>
<div class="line">                          <a class="code" href="../../d6/d59/group__types.html#gaaa95ab7fe66935e3f7535413fad2a7d3">Volatility</a> sigma)</div>
<div class="line">    : type_(type), strike_(strike),</div>
<div class="line">      r_(r), maturity_(maturity), sigma_(sigma) {</div>
<div class="line">        QL_REQUIRE(strike_ &gt; 0.0, <span class="stringliteral">&quot;strike must be positive&quot;</span>);</div>
<div class="line">        QL_REQUIRE(r_ &gt;= 0.0,</div>
<div class="line">                   <span class="stringliteral">&quot;risk free rate (r) must be positive or zero&quot;</span>);</div>
<div class="line">        QL_REQUIRE(maturity_ &gt; 0.0, <span class="stringliteral">&quot;maturity must be positive&quot;</span>);</div>
<div class="line">        QL_REQUIRE(sigma_ &gt;= 0.0,</div>
<div class="line">                   <span class="stringliteral">&quot;volatility (sigma) must be positive or zero&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// The value() method encapsulates the pricing code</span></div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> operator()(<span class="keyword">const</span> <a name="_a8"></a><a class="code" href="../../d6/d60/class_quant_lib_1_1_path.html">Path</a>&amp; path) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <a class="code" href="../../d2/df1/class_quant_lib_1_1_option.html#a1d1cfd8ffb84e947f82999c682b666a7">Option::Type</a> type_;</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> strike_;</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> r_;</div>
<div class="line">    <a class="code" href="../../d6/d2c/class_time.html">Time</a> maturity_;</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#gaaa95ab7fe66935e3f7535413fad2a7d3">Volatility</a> sigma_;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// Compute Replication Error as in the Derman and Kamal&#39;s research note</span></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span>, <span class="keywordtype">char</span>* []) {</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line"> </div>
<div class="line">        std::cout &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="../../d6/d2c/class_time.html">Time</a> maturity = 1.0/12.0;   <span class="comment">// 1 month</span></div>
<div class="line">        <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> strike = 100;</div>
<div class="line">        <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> underlying = 100;</div>
<div class="line">        <a class="code" href="../../d6/d59/group__types.html#gaaa95ab7fe66935e3f7535413fad2a7d3">Volatility</a> <a name="a9"></a><a class="code" href="../../dc/da8/group__manips.html#gac402ef7c87f63f7c603ee87210b5750c">volatility</a> = 0.20; <span class="comment">// 20%</span></div>
<div class="line">        <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> riskFreeRate = 0.05; <span class="comment">// 5%</span></div>
<div class="line">        ReplicationError rp(<a name="a10"></a><a class="code" href="../../d2/df1/class_quant_lib_1_1_option.html#a1d1cfd8ffb84e947f82999c682b666a7a59b9abc46faffa225d20abc5e5252417">Option::Call</a>, maturity, strike, underlying,</div>
<div class="line">                <a class="code" href="../../dc/da8/group__manips.html#gac402ef7c87f63f7c603ee87210b5750c">volatility</a>, riskFreeRate);</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> scenarios = 50000;</div>
<div class="line">        <a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> hedgesNum;</div>
<div class="line"> </div>
<div class="line">        hedgesNum = 21;</div>
<div class="line">        rp.compute(hedgesNum, scenarios);</div>
<div class="line"> </div>
<div class="line">        hedgesNum = 84;</div>
<div class="line">        rp.compute(hedgesNum, scenarios);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    } <span class="keywordflow">catch</span> (std::exception&amp; e) {</div>
<div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;unknown error&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/* The actual computation of the Profit&amp;Loss for each single path.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">   In each scenario N rehedging trades spaced evenly in time over</span></div>
<div class="line"><span class="comment">   the life of the option are carried out, using the Black-Scholes</span></div>
<div class="line"><span class="comment">   hedge ratio.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"><a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> ReplicationPathPricer::operator()(<span class="keyword">const</span> <a class="code" href="../../d6/d60/class_quant_lib_1_1_path.html">Path</a>&amp; path)<span class="keyword"> const </span>{</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> n = path.<a name="a11"></a><a class="code" href="../../d6/d60/class_quant_lib_1_1_path.html#a022887254632280a41166a9e97b87e0c">length</a>()-1;</div>
<div class="line">    QL_REQUIRE(n&gt;0, <span class="stringliteral">&quot;the path cannot be empty&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// discrete hedging interval</span></div>
<div class="line">    <a class="code" href="../../d6/d2c/class_time.html">Time</a> dt = maturity_/n;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// For simplicity, we assume the stock pays no dividends.</span></div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> stockDividendYield = 0.0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// let&#39;s start</span></div>
<div class="line">    <a class="code" href="../../d6/d2c/class_time.html">Time</a> t = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// stock value at t=0</span></div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> stock = path.<a name="a12"></a><a class="code" href="../../d6/d60/class_quant_lib_1_1_path.html#af78ff4861aaf9bf0524b958dbb4d1b18">front</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// money account at t=0</span></div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> money_account = 0.0;</div>
<div class="line"> </div>
<div class="line"><span class="comment">    /************************/</span></div>
<div class="line"><span class="comment">    /*** the initial deal ***/</span></div>
<div class="line"><span class="comment">    /************************/</span></div>
<div class="line">    <span class="comment">// option fair price (Black-Scholes) at t=0</span></div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga642a971a0bcbbd2fb26c35e1a06e5761">DiscountFactor</a> rDiscount = std::exp(-r_*maturity_);</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga642a971a0bcbbd2fb26c35e1a06e5761">DiscountFactor</a> qDiscount = std::exp(-stockDividendYield*maturity_);</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> forward = stock*qDiscount/rDiscount;</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> stdDev = std::sqrt(sigma_*sigma_*maturity_);</div>
<div class="line">    ext::shared_ptr&lt;StrikedTypePayoff&gt; payoff(</div>
<div class="line">                                       <span class="keyword">new</span> <a class="code" href="../../db/de6/class_quant_lib_1_1_plain_vanilla_payoff.html">PlainVanillaPayoff</a>(type_,strike_));</div>
<div class="line">    <a class="code" href="../../de/dac/class_quant_lib_1_1_black_calculator.html">BlackCalculator</a> black(payoff,forward,stdDev,rDiscount);</div>
<div class="line">    <span class="comment">// sell the option, cash in its premium</span></div>
<div class="line">    money_account += black.value();</div>
<div class="line">    <span class="comment">// compute delta</span></div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> delta = black.delta(stock);</div>
<div class="line">    <span class="comment">// delta-hedge the option buying stock</span></div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> stockAmount = delta;</div>
<div class="line">    money_account -= stockAmount*stock;</div>
<div class="line"> </div>
<div class="line"><span class="comment">    /**********************************/</span></div>
<div class="line"><span class="comment">    /*** hedging during option life ***/</span></div>
<div class="line"><span class="comment">    /**********************************/</span></div>
<div class="line">    <span class="keywordflow">for</span> (<a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> step = 0; step &lt; n-1; step++){</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// time flows</span></div>
<div class="line">        t += dt;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// accruing on the money account</span></div>
<div class="line">        money_account *= std::exp( r_*dt );</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// stock growth:</span></div>
<div class="line">        stock = path[step+1];</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// recalculate option value at the current stock value,</span></div>
<div class="line">        <span class="comment">// and the current time to maturity</span></div>
<div class="line">        rDiscount = std::exp(-r_*(maturity_-t));</div>
<div class="line">        qDiscount = std::exp(-stockDividendYield*(maturity_-t));</div>
<div class="line">        forward = stock*qDiscount/rDiscount;</div>
<div class="line">        stdDev = std::sqrt(sigma_*sigma_*(maturity_-t));</div>
<div class="line">        <a class="code" href="../../de/dac/class_quant_lib_1_1_black_calculator.html">BlackCalculator</a> black(payoff,forward,stdDev,rDiscount);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// recalculate delta</span></div>
<div class="line">        delta = black.delta(stock);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// re-hedging</span></div>
<div class="line">        money_account -= (delta - stockAmount)*stock;</div>
<div class="line">        stockAmount = delta;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="comment">    /*************************/</span></div>
<div class="line"><span class="comment">    /*** option expiration ***/</span></div>
<div class="line"><span class="comment">    /*************************/</span></div>
<div class="line">    <span class="comment">// last accrual on my money account</span></div>
<div class="line">    money_account *= std::exp( r_*dt );</div>
<div class="line">    <span class="comment">// last stock growth</span></div>
<div class="line">    stock = path[n];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// the hedger delivers the option payoff to the option holder</span></div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> optionPayoff = <a class="code" href="../../db/de6/class_quant_lib_1_1_plain_vanilla_payoff.html">PlainVanillaPayoff</a>(type_, strike_)(stock);</div>
<div class="line">    money_account -= optionPayoff;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// and unwinds the hedge selling his stock position</span></div>
<div class="line">    money_account += stockAmount*stock;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// final Profit&amp;Loss</span></div>
<div class="line">    <span class="keywordflow">return</span> money_account;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// The computation over nSamples paths of the P&amp;L distribution</span></div>
<div class="line"><span class="keywordtype">void</span> ReplicationError::compute(<a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> nTimeSteps, <a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> nSamples)</div>
<div class="line">{</div>
<div class="line">    QL_REQUIRE(nTimeSteps&gt;0, <span class="stringliteral">&quot;the number of steps must be &gt; 0&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// hedging interval</span></div>
<div class="line">    <span class="comment">// Time tau = maturity_ / nTimeSteps;</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Black-Scholes framework: the underlying stock price evolves</span></div>
<div class="line"><span class="comment">       lognormally with a fixed known volatility that stays constant</span></div>
<div class="line"><span class="comment">       throughout time.</span></div>
<div class="line"><span class="comment">    */</span></div>
<div class="line">    <a name="_a13"></a><a class="code" href="../../da/d3e/class_quant_lib_1_1_calendar.html">Calendar</a> calendar = <a name="_a14"></a><a class="code" href="../../dd/d13/class_quant_lib_1_1_t_a_r_g_e_t.html">TARGET</a>();</div>
<div class="line">    <a name="_a15"></a><a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> today = <a name="a16"></a><a class="code" href="../../db/d60/class_quant_lib_1_1_date.html#a3f756a3f2a0d05c2f40c01d38a550ec6">Date::todaysDate</a>();</div>
<div class="line">    <a name="_a17"></a><a class="code" href="../../dd/d24/class_quant_lib_1_1_day_counter.html">DayCounter</a> dayCount = <a name="_a18"></a><a class="code" href="../../d8/dbb/class_quant_lib_1_1_actual365_fixed.html">Actual365Fixed</a>();</div>
<div class="line">    <a name="_a19"></a><a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a> stateVariable(</div>
<div class="line">                          ext::shared_ptr&lt;Quote&gt;(<span class="keyword">new</span> <a name="_a20"></a><a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(s0_)));</div>
<div class="line">    <a name="_a21"></a><a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;YieldTermStructure&gt;</a> riskFreeRate(</div>
<div class="line">                          ext::shared_ptr&lt;YieldTermStructure&gt;(</div>
<div class="line">                                      <span class="keyword">new</span> <a name="_a22"></a><a class="code" href="../../db/d2a/class_quant_lib_1_1_flat_forward.html">FlatForward</a>(today, r_, dayCount)));</div>
<div class="line">    <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;YieldTermStructure&gt;</a> dividendYield(</div>
<div class="line">                          ext::shared_ptr&lt;YieldTermStructure&gt;(</div>
<div class="line">                                      <span class="keyword">new</span> <a class="code" href="../../db/d2a/class_quant_lib_1_1_flat_forward.html">FlatForward</a>(today, 0.0, dayCount)));</div>
<div class="line">    <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;BlackVolTermStructure&gt;</a> <a class="code" href="../../dc/da8/group__manips.html#gac402ef7c87f63f7c603ee87210b5750c">volatility</a>(</div>
<div class="line">                          ext::shared_ptr&lt;BlackVolTermStructure&gt;(</div>
<div class="line">                               <span class="keyword">new</span> <a name="_a23"></a><a class="code" href="../../dc/dac/class_quant_lib_1_1_black_constant_vol.html">BlackConstantVol</a>(today, calendar, sigma_, dayCount)));</div>
<div class="line">    ext::shared_ptr&lt;StochasticProcess1D&gt; diffusion(</div>
<div class="line">                   <span class="keyword">new</span> <a name="_a24"></a><a class="code" href="../../dc/dbb/class_quant_lib_1_1_black_scholes_merton_process.html">BlackScholesMertonProcess</a>(stateVariable, dividendYield,</div>
<div class="line">                                                 riskFreeRate, <a class="code" href="../../dc/da8/group__manips.html#gac402ef7c87f63f7c603ee87210b5750c">volatility</a>));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Black Scholes equation rules the path generator:</span></div>
<div class="line">    <span class="comment">// at each step the log of the stock</span></div>
<div class="line">    <span class="comment">// will have drift and sigma^2 variance</span></div>
<div class="line">    <a name="_a25"></a><a class="code" href="../../d2/d45/class_quant_lib_1_1_inverse_cumulative_rsg.html">PseudoRandom::rsg_type</a> rsg =</div>
<div class="line">        <a name="a26"></a><a class="code" href="../../d9/d48/struct_quant_lib_1_1_generic_pseudo_random.html#a151fdf6c3c4b229d6e1f7f56f0590f2b">PseudoRandom::make_sequence_generator</a>(nTimeSteps, 0);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> brownianBridge = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">typedef</span> <a name="_a27"></a><a class="code" href="../../de/df5/class_quant_lib_1_1_path_generator.html">SingleVariate&lt;PseudoRandom&gt;::path_generator_type</a> generator_type;</div>
<div class="line">    ext::shared_ptr&lt;generator_type&gt; myPathGenerator(<span class="keyword">new</span></div>
<div class="line">        generator_type(diffusion, maturity_, nTimeSteps,</div>
<div class="line">                       rsg, brownianBridge));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// The replication strategy&#39;s Profit&amp;Loss is computed for each path</span></div>
<div class="line">    <span class="comment">// of the stock. The path pricer knows how to price a path using its</span></div>
<div class="line">    <span class="comment">// value() method</span></div>
<div class="line">    ext::shared_ptr&lt;PathPricer&lt;Path&gt; &gt; myPathPricer(<span class="keyword">new</span></div>
<div class="line">        ReplicationPathPricer(payoff_.optionType(), payoff_.strike(),</div>
<div class="line">                              r_, maturity_, sigma_));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// a statistics accumulator for the path-dependant Profit&amp;Loss values</span></div>
<div class="line">    <a name="_a28"></a><a class="code" href="../../d0/d8b/class_quant_lib_1_1_generic_risk_statistics.html">Statistics</a> statisticsAccumulator;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// The Monte Carlo model generates paths using myPathGenerator</span></div>
<div class="line">    <span class="comment">// each path is priced using myPathPricer</span></div>
<div class="line">    <span class="comment">// prices will be accumulated into statisticsAccumulator</span></div>
<div class="line">    <a name="_a29"></a><a class="code" href="../../dc/d5d/class_quant_lib_1_1_monte_carlo_model.html">MonteCarloModel&lt;SingleVariate,PseudoRandom&gt;</a></div>
<div class="line">        MCSimulation(myPathGenerator,</div>
<div class="line">                     myPathPricer,</div>
<div class="line">                     statisticsAccumulator,</div>
<div class="line">                     <span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// the model simulates nSamples paths</span></div>
<div class="line">    MCSimulation.addSamples(nSamples);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// the sampleAccumulator method</span></div>
<div class="line">    <span class="comment">// gives access to all the methods of statisticsAccumulator</span></div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> PLMean  = MCSimulation.sampleAccumulator().mean();</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> PLStDev = MCSimulation.sampleAccumulator().standardDeviation();</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> PLSkew  = MCSimulation.sampleAccumulator().skewness();</div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> PLKurt  = MCSimulation.sampleAccumulator().kurtosis();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Derman and Kamal&#39;s formula</span></div>
<div class="line">    <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> theorStD = std::sqrt(M_PI/4/nTimeSteps)*vega_*sigma_;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; std::fixed</div>
<div class="line">              &lt;&lt; std::setw(8) &lt;&lt; nSamples &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">              &lt;&lt; std::setw(8) &lt;&lt; nTimeSteps &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">              &lt;&lt; std::setw(8) &lt;&lt; std::setprecision(3) &lt;&lt; PLMean &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">              &lt;&lt; std::setw(8) &lt;&lt; std::setprecision(2) &lt;&lt; PLStDev &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">              &lt;&lt; std::setw(12) &lt;&lt; std::setprecision(2) &lt;&lt; theorStD &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">              &lt;&lt; std::setw(8) &lt;&lt; std::setprecision(2) &lt;&lt; PLSkew &lt;&lt; <span class="stringliteral">&quot; | &quot;</span></div>
<div class="line">              &lt;&lt; std::setw(8) &lt;&lt; std::setprecision(2) &lt;&lt; PLKurt &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="aclass_quant_lib_1_1_handle_html"><div class="ttname"><a href="../../dc/dac/class_quant_lib_1_1_handle.html">QuantLib::Handle</a></div><div class="ttdoc">Shared handle to an observable.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd4/handle_8hpp_source.html#l00041">handle.hpp:41</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_black_calculator_html"><div class="ttname"><a href="../../de/dac/class_quant_lib_1_1_black_calculator.html">QuantLib::BlackCalculator</a></div><div class="ttdoc">Black 1976 calculator class.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/blackcalculator_8hpp_source.html#l00037">blackcalculator.hpp:37</a></div></div>
<div class="ttc" id="anamespace_quant_lib_html_afc1fa6a25515be394cb534495d704c1d"><div class="ttname"><a href="../../d5/d7b/namespace_quant_lib.html#afc1fa6a25515be394cb534495d704c1d">QuantLib::ThreadKey</a></div><div class="ttdeci">Integer ThreadKey</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6d/singleton_8hpp_source.html#l00094">singleton.hpp:94</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_path_html_af78ff4861aaf9bf0524b958dbb4d1b18"><div class="ttname"><a href="../../d6/d60/class_quant_lib_1_1_path.html#af78ff4861aaf9bf0524b958dbb4d1b18">QuantLib::Path::front</a></div><div class="ttdeci">Real front() const</div><div class="ttdoc">initial asset value</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4c/path_8hpp_source.html#l00122">path.hpp:122</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_path_html_a022887254632280a41166a9e97b87e0c"><div class="ttname"><a href="../../d6/d60/class_quant_lib_1_1_path.html#a022887254632280a41166a9e97b87e0c">QuantLib::Path::length</a></div><div class="ttdeci">Size length() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4c/path_8hpp_source.html#l00094">path.hpp:94</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_path_html"><div class="ttname"><a href="../../d6/d60/class_quant_lib_1_1_path.html">QuantLib::Path</a></div><div class="ttdoc">single-factor random walk</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4c/path_8hpp_source.html#l00039">path.hpp:39</a></div></div>
<div class="ttc" id="agroup__types_html_gaaa95ab7fe66935e3f7535413fad2a7d3"><div class="ttname"><a href="../../d6/d59/group__types.html#gaaa95ab7fe66935e3f7535413fad2a7d3">QuantLib::Volatility</a></div><div class="ttdeci">Real Volatility</div><div class="ttdoc">volatility</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de3/types_8hpp_source.html#l00078">types.hpp:78</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_actual365_fixed_html"><div class="ttname"><a href="../../d8/dbb/class_quant_lib_1_1_actual365_fixed.html">QuantLib::Actual365Fixed</a></div><div class="ttdoc">Actual/365 (Fixed) day count convention.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbf/actual365fixed_8hpp_source.html#l00045">actual365fixed.hpp:45</a></div></div>
<div class="ttc" id="aclass_time_html"><div class="ttname"><a href="../../d6/d2c/class_time.html">Time</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_black_scholes_merton_process_html"><div class="ttname"><a href="../../dc/dbb/class_quant_lib_1_1_black_scholes_merton_process.html">QuantLib::BlackScholesMertonProcess</a></div><div class="ttdoc">Merton (1973) extension to the Black-Scholes stochastic process.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da0/blackscholesprocess_8hpp_source.html#l00146">blackscholesprocess.hpp:146</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_inverse_cumulative_rsg_html"><div class="ttname"><a href="../../d2/d45/class_quant_lib_1_1_inverse_cumulative_rsg.html">QuantLib::InverseCumulativeRsg</a></div><div class="ttdoc">Inverse cumulative random sequence generator.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d79/inversecumulativersg_8hpp_source.html#l00056">inversecumulativersg.hpp:56</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_option_html_a1d1cfd8ffb84e947f82999c682b666a7"><div class="ttname"><a href="../../d2/df1/class_quant_lib_1_1_option.html#a1d1cfd8ffb84e947f82999c682b666a7">QuantLib::Option::Type</a></div><div class="ttdeci">Type</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd9/option_8hpp_source.html#l00038">option.hpp:38</a></div></div>
<div class="ttc" id="astruct_quant_lib_1_1_generic_pseudo_random_html_a151fdf6c3c4b229d6e1f7f56f0590f2b"><div class="ttname"><a href="../../d9/d48/struct_quant_lib_1_1_generic_pseudo_random.html#a151fdf6c3c4b229d6e1f7f56f0590f2b">QuantLib::GenericPseudoRandom::make_sequence_generator</a></div><div class="ttdeci">static rsg_type make_sequence_generator(Size dimension, BigNatural seed)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dda/rngtraits_8hpp_source.html#l00052">rngtraits.hpp:52</a></div></div>
<div class="ttc" id="agroup__manips_html_gac402ef7c87f63f7c603ee87210b5750c"><div class="ttname"><a href="../../dc/da8/group__manips.html#gac402ef7c87f63f7c603ee87210b5750c">QuantLib::io::volatility</a></div><div class="ttdeci">detail::percent_holder volatility(Volatility)</div><div class="ttdoc">output volatilities as percentages</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db9/dataformatters_8hpp_source.html#l00133">dataformatters.hpp:133</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_plain_vanilla_payoff_html"><div class="ttname"><a href="../../db/de6/class_quant_lib_1_1_plain_vanilla_payoff.html">QuantLib::PlainVanillaPayoff</a></div><div class="ttdoc">Plain-vanilla payoff.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/payoffs_8hpp_source.html#l00105">payoffs.hpp:105</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_path_pricer_html"><div class="ttname"><a href="../../dd/d4a/class_quant_lib_1_1_path_pricer.html">QuantLib::PathPricer</a></div><div class="ttdoc">base class for path pricers</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/pathpricer_8hpp_source.html#l00040">pathpricer.hpp:40</a></div></div>
<div class="ttc" id="agroup__types_html_gaede435af51236692b1107d7639581d39"><div class="ttname"><a href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">QuantLib::Rate</a></div><div class="ttdeci">Real Rate</div><div class="ttdoc">interest rates</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de3/types_8hpp_source.html#l00070">types.hpp:70</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_t_a_r_g_e_t_html"><div class="ttname"><a href="../../dd/d13/class_quant_lib_1_1_t_a_r_g_e_t.html">QuantLib::TARGET</a></div><div class="ttdoc">TARGET calendar</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d69/target_8hpp_source.html#l00050">target.hpp:50</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_monte_carlo_model_html"><div class="ttname"><a href="../../dc/d5d/class_quant_lib_1_1_monte_carlo_model.html">QuantLib::MonteCarloModel</a></div><div class="ttdoc">General-purpose Monte Carlo model for path samples.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dde/montecarlomodel_8hpp_source.html#l00051">montecarlomodel.hpp:51</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_day_counter_html"><div class="ttname"><a href="../../dd/d24/class_quant_lib_1_1_day_counter.html">QuantLib::DayCounter</a></div><div class="ttdoc">day counter class</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d32/daycounter_8hpp_source.html#l00043">daycounter.hpp:43</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_generic_risk_statistics_html"><div class="ttname"><a href="../../d0/d8b/class_quant_lib_1_1_generic_risk_statistics.html">QuantLib::GenericRiskStatistics</a></div><div class="ttdoc">empirical-distribution risk measures</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbe/riskstatistics_8hpp_source.html#l00042">riskstatistics.hpp:42</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_flat_forward_html"><div class="ttname"><a href="../../db/d2a/class_quant_lib_1_1_flat_forward.html">QuantLib::FlatForward</a></div><div class="ttdoc">Flat interest-rate curve.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d0e/flatforward_8hpp_source.html#l00036">flatforward.hpp:37</a></div></div>
<div class="ttc" id="anamespace_quant_lib_html"><div class="ttname"><a href="../../d5/d7b/namespace_quant_lib.html">QuantLib</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d9a/cashflow_8cpp_source.html#l00025">cashflow.cpp:25</a></div></div>
<div class="ttc" id="agroup__types_html_ga642a971a0bcbbd2fb26c35e1a06e5761"><div class="ttname"><a href="../../d6/d59/group__types.html#ga642a971a0bcbbd2fb26c35e1a06e5761">QuantLib::DiscountFactor</a></div><div class="ttdeci">Real DiscountFactor</div><div class="ttdoc">discount factor between dates</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de3/types_8hpp_source.html#l00066">types.hpp:66</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_date_html"><div class="ttname"><a href="../../db/d60/class_quant_lib_1_1_date.html">QuantLib::Date</a></div><div class="ttdoc">Concrete date class.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd9/date_8hpp_source.html#l00125">date.hpp:125</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_simple_quote_html"><div class="ttname"><a href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">QuantLib::SimpleQuote</a></div><div class="ttdoc">market element returning a stored value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d17/simplequote_8hpp_source.html#l00033">simplequote.hpp:33</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_date_html_a3f756a3f2a0d05c2f40c01d38a550ec6"><div class="ttname"><a href="../../db/d60/class_quant_lib_1_1_date.html#a3f756a3f2a0d05c2f40c01d38a550ec6">QuantLib::Date::todaysDate</a></div><div class="ttdeci">static Date todaysDate()</div><div class="ttdoc">today's date.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da2/date_8cpp_source.html#l00772">date.cpp:772</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_option_html_a1d1cfd8ffb84e947f82999c682b666a7a59b9abc46faffa225d20abc5e5252417"><div class="ttname"><a href="../../d2/df1/class_quant_lib_1_1_option.html#a1d1cfd8ffb84e947f82999c682b666a7a59b9abc46faffa225d20abc5e5252417">QuantLib::Option::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd9/option_8hpp_source.html#l00040">option.hpp:39</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_black_constant_vol_html"><div class="ttname"><a href="../../dc/dac/class_quant_lib_1_1_black_constant_vol.html">QuantLib::BlackConstantVol</a></div><div class="ttdoc">Constant Black volatility, no time-strike dependence.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d96/blackconstantvol_8hpp_source.html#l00039">blackconstantvol.hpp:39</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_calendar_html"><div class="ttname"><a href="../../da/d3e/class_quant_lib_1_1_calendar.html">QuantLib::Calendar</a></div><div class="ttdoc">calendar class</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d39/calendar_8hpp_source.html#l00061">calendar.hpp:61</a></div></div>
<div class="ttc" id="agroup__types_html_ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78"><div class="ttname"><a href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">QuantLib::Real</a></div><div class="ttdeci">QL_REAL Real</div><div class="ttdoc">real number</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de3/types_8hpp_source.html#l00050">types.hpp:50</a></div></div>
<div class="ttc" id="agroup__types_html_gaf38bdb4c54463b1f456655efa95b5c77"><div class="ttname"><a href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">QuantLib::Size</a></div><div class="ttdeci">std::size_t Size</div><div class="ttdoc">size of a container</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de3/types_8hpp_source.html#l00058">types.hpp:58</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_path_generator_html"><div class="ttname"><a href="../../de/df5/class_quant_lib_1_1_path_generator.html">QuantLib::PathGenerator</a></div><div class="ttdoc">Generates random paths using a sequence generator.</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/pathgenerator_8hpp_source.html#l00044">pathgenerator.hpp:44</a></div></div>
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.8.20
</small></address>
</body>
</html>
