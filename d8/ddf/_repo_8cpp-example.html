<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QuantLib: Repo.cpp</title>
<link rel="stylesheet" href="/styles/fonts.css" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../quantlibextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><a href="https://www.quantlib.org">QuantLib</a>: a free/open-source library for quantitative finance
   <div id="projectnumber">fully annotated source code - version 1.38</div>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Repo.cpp</div></div>
</div><!--header-->
<div class="contents">
<p >This example values a fixed-coupon bond repurchase (repo). The repurchase agreement example is set up to use the repo rate to do all discounting (including the underlying bond income). Forward delivery price is also obtained using this repo rate. All this is done by supplying the FixedCouponBondForward constructor with a flat repo YieldTermStructure.</p>
<div class="fragment"><div class="line"><span class="comment">/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/*!</span></div>
<div class="line"><span class="comment"> Copyright (C) 2006 Allen Kuo</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"> This file is part of QuantLib, a free-software/open-source library</span></div>
<div class="line"><span class="comment"> for financial quantitative analysts and developers - http://quantlib.org/</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"> QuantLib is free software: you can redistribute it and/or modify it</span></div>
<div class="line"><span class="comment"> under the terms of the QuantLib license.  You should have received a</span></div>
<div class="line"><span class="comment"> copy of the license along with this program; if not, please email</span></div>
<div class="line"><span class="comment"> &lt;quantlib-dev@lists.sf.net&gt;. The license is also available online at</span></div>
<div class="line"><span class="comment"> &lt;http://quantlib.org/license.shtml&gt;.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"> This program is distributed in the hope that it will be useful, but WITHOUT</span></div>
<div class="line"><span class="comment"> ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</span></div>
<div class="line"><span class="comment"> FOR A PARTICULAR PURPOSE.  See the license for more details.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* a Repo calculation done using the FixedRateBondForward class</span></div>
<div class="line"><span class="comment">   cf. aaBondFwd() repo example at</span></div>
<div class="line"><span class="comment">   http://www.fincad.com/support/developerFunc/mathref/BFWD.htm</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">   This repo is set up to use the repo rate to do all discounting</span></div>
<div class="line"><span class="comment">   (including the underlying bond income). Forward delivery price is</span></div>
<div class="line"><span class="comment">   also obtained using this repo rate. All this is done by supplying</span></div>
<div class="line"><span class="comment">   the FixedRateBondForward constructor with a flat repo</span></div>
<div class="line"><span class="comment">   YieldTermStructure.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../de/d56/qldefines_8hpp.html">ql/qldefines.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#if !defined(BOOST_ALL_NO_LIB) &amp;&amp; defined(BOOST_MSVC)</span></div>
<div class="line"><span class="preprocessor">#  include &lt;<a class="code" href="../../d7/dbf/auto__link_8hpp.html">ql/auto_link.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d6/d0f/bondforward_8hpp.html">ql/instruments/bondforward.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d8/db1/fixedratebond_8hpp.html">ql/instruments/bonds/fixedratebond.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d1/df9/discountingbondengine_8hpp.html">ql/pricingengines/bond/discountingbondengine.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d5/d0e/flatforward_8hpp.html">ql/termstructures/yield/flatforward.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d2/dd1/schedule_8hpp.html">ql/time/schedule.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../dd/da6/nullcalendar_8hpp.html">ql/time/calendars/nullcalendar.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d2/dbc/actual360_8hpp.html">ql/time/daycounters/actual360.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d9/da8/thirty360_8hpp.html">ql/time/daycounters/thirty360.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iomanip&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d5/d7b/namespace_quant_lib.html">QuantLib</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span>, <span class="keywordtype">char</span>* []) {</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line"> </div>
<div class="line">        std::cout &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">        <a id="_a0" name="_a0"></a><a class="code hl_class" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> repoSettlementDate(14,February,2000);;</div>
<div class="line">        <a class="code hl_class" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> repoDeliveryDate(15,August,2000);</div>
<div class="line">        <a class="code hl_typedef" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> repoRate = 0.05;</div>
<div class="line">        <a id="_a1" name="_a1"></a><a class="code hl_class" href="../../dd/d24/class_quant_lib_1_1_day_counter.html">DayCounter</a> repoDayCountConvention = <a id="_a2" name="_a2"></a><a class="code hl_class" href="../../dd/d4e/class_quant_lib_1_1_actual360.html">Actual360</a>();</div>
<div class="line">        <a class="code hl_typedef" href="../../d6/d59/group__types.html#gab9c87440c314438e51a899a03d2442d0">Integer</a> repoSettlementDays = 0;</div>
<div class="line">        <a class="code hl_enumeration" href="../../d5/d7b/namespace_quant_lib.html#a2779d04b4839fd386b5c85bbb96aaf73">Compounding</a> repoCompounding = Simple;</div>
<div class="line">        <a class="code hl_enumeration" href="../../d1/d37/group__datetime.html#ga6d41db8ba0ea90d22df35889df452ada">Frequency</a> repoCompoundFreq = Annual;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// assume a ten year bond- this is irrelevant</span></div>
<div class="line">        <a class="code hl_class" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> bondIssueDate(15,September,1995);</div>
<div class="line">        <a class="code hl_class" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> bondDatedDate(15,September,1995);</div>
<div class="line">        <a class="code hl_class" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> bondMaturityDate(15,September,2005);</div>
<div class="line">        <a class="code hl_typedef" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> bondCoupon = 0.08;</div>
<div class="line">        <a class="code hl_enumeration" href="../../d1/d37/group__datetime.html#ga6d41db8ba0ea90d22df35889df452ada">Frequency</a> bondCouponFrequency = Semiannual;</div>
<div class="line">        <span class="comment">// unknown what calendar fincad is using</span></div>
<div class="line">        <a id="_a3" name="_a3"></a><a class="code hl_class" href="../../da/d3e/class_quant_lib_1_1_calendar.html">Calendar</a> bondCalendar = <a id="_a4" name="_a4"></a><a class="code hl_class" href="../../da/d77/class_quant_lib_1_1_null_calendar.html">NullCalendar</a>();</div>
<div class="line">        <a class="code hl_class" href="../../dd/d24/class_quant_lib_1_1_day_counter.html">DayCounter</a> bondDayCountConvention = <a id="_a5" name="_a5"></a><a class="code hl_class" href="../../d5/d63/class_quant_lib_1_1_thirty360.html">Thirty360</a>(Thirty360::BondBasis);</div>
<div class="line">        <span class="comment">// unknown what fincad is using. this may affect accrued calculation</span></div>
<div class="line">        <a class="code hl_typedef" href="../../d6/d59/group__types.html#gab9c87440c314438e51a899a03d2442d0">Integer</a> bondSettlementDays = 0;</div>
<div class="line">        <a class="code hl_enumeration" href="../../d1/d37/group__datetime.html#gaff46c5ae9385d20709bedade86edd368">BusinessDayConvention</a> bondBusinessDayConvention = Unadjusted;</div>
<div class="line">        <a id="_a6" name="_a6"></a><a class="code hl_class" href="../../d9/d55/class_quant_lib_1_1_bond_1_1_price.html">Bond::Price</a> bondCleanPrice(89.97693786, Bond::Price::Clean);</div>
<div class="line">        <a class="code hl_typedef" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> bondRedemption = 100.0;</div>
<div class="line">        <a class="code hl_typedef" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> faceAmount = 100.0;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">        Settings::instance().evaluationDate() = repoSettlementDate;</div>
<div class="line"> </div>
<div class="line">        <a id="_a7" name="_a7"></a><a class="code hl_class" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html">RelinkableHandle&lt;YieldTermStructure&gt;</a> bondCurve;</div>
<div class="line">        bondCurve.<a id="a8" name="a8"></a><a class="code hl_function" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html#a4c6b52dcdb036a4aa90b3533c80198d0">linkTo</a>(ext::make_shared&lt;FlatForward&gt;(repoSettlementDate,</div>
<div class="line">                                                       .01, <span class="comment">// dummy rate</span></div>
<div class="line">                                                       bondDayCountConvention,</div>
<div class="line">                                                       Compounded,</div>
<div class="line">                                                       bondCouponFrequency));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">        auto bond = ext::make_shared&lt;FixedRateBond&gt;(faceAmount,</span></div>
<div class="line"><span class="comment">                                         bondIssueDate,</span></div>
<div class="line"><span class="comment">                                         bondDatedDate,</span></div>
<div class="line"><span class="comment">                                         bondMaturityDate,</span></div>
<div class="line"><span class="comment">                                         bondSettlementDays,</span></div>
<div class="line"><span class="comment">                                         std::vector&lt;Rate&gt;(1,bondCoupon),</span></div>
<div class="line"><span class="comment">                                         bondCouponFrequency,</span></div>
<div class="line"><span class="comment">                                         bondCalendar,</span></div>
<div class="line"><span class="comment">                                         bondDayCountConvention,</span></div>
<div class="line"><span class="comment">                                         bondBusinessDayConvention,</span></div>
<div class="line"><span class="comment">                                         bondBusinessDayConvention,</span></div>
<div class="line"><span class="comment">                                         bondRedemption,</span></div>
<div class="line"><span class="comment">                                         bondCurve);</span></div>
<div class="line"><span class="comment">        */</span></div>
<div class="line"> </div>
<div class="line">        <a id="_a9" name="_a9"></a><a class="code hl_class" href="../../d5/d5b/class_quant_lib_1_1_schedule.html">Schedule</a> bondSchedule(bondDatedDate, bondMaturityDate,</div>
<div class="line">                              <a id="_a10" name="_a10"></a><a class="code hl_class" href="../../df/dfa/class_quant_lib_1_1_period.html">Period</a>(bondCouponFrequency),</div>
<div class="line">                              bondCalendar,bondBusinessDayConvention,</div>
<div class="line">                              bondBusinessDayConvention,</div>
<div class="line">                              DateGeneration::Backward,<span class="keyword">false</span>);</div>
<div class="line">        <span class="keyword">auto</span> bond = ext::make_shared&lt;FixedRateBond&gt;(bondSettlementDays,</div>
<div class="line">                                         faceAmount,</div>
<div class="line">                                         bondSchedule,</div>
<div class="line">                                         std::vector&lt;Rate&gt;(1,bondCoupon),</div>
<div class="line">                                         bondDayCountConvention,</div>
<div class="line">                                         bondBusinessDayConvention,</div>
<div class="line">                                         bondRedemption,</div>
<div class="line">                                         bondIssueDate);</div>
<div class="line">        bond-&gt;setPricingEngine(ext::make_shared&lt;DiscountingBondEngine&gt;(bondCurve));</div>
<div class="line"> </div>
<div class="line">        bondCurve.<a class="code hl_function" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html#a4c6b52dcdb036a4aa90b3533c80198d0">linkTo</a>(ext::make_shared&lt;FlatForward&gt;(repoSettlementDate,</div>
<div class="line">                                   bond-&gt;yield(bondCleanPrice,</div>
<div class="line">                                               bondDayCountConvention,</div>
<div class="line">                                               Compounded,</div>
<div class="line">                                               bondCouponFrequency),</div>
<div class="line">                                   bondDayCountConvention,</div>
<div class="line">                                   Compounded,</div>
<div class="line">                                   bondCouponFrequency));</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_enumeration" href="../../d9/d6f/struct_quant_lib_1_1_position.html#a1d1cfd8ffb84e947f82999c682b666a7">Position::Type</a> fwdType = Position::Long;</div>
<div class="line">        <span class="keywordtype">double</span> dummyStrike = 91.5745;</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_class" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html">RelinkableHandle&lt;YieldTermStructure&gt;</a> repoCurve;</div>
<div class="line">        repoCurve.<a class="code hl_function" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html#a4c6b52dcdb036a4aa90b3533c80198d0">linkTo</a>(ext::make_shared&lt;FlatForward&gt;(repoSettlementDate,</div>
<div class="line">                                                       repoRate,</div>
<div class="line">                                                       repoDayCountConvention,</div>
<div class="line">                                                       repoCompounding,</div>
<div class="line">                                                       repoCompoundFreq));</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">        <a id="_a11" name="_a11"></a><a class="code hl_class" href="../../d8/d9f/class_quant_lib_1_1_bond_forward.html">BondForward</a> bondFwd(repoSettlementDate, repoDeliveryDate, fwdType, dummyStrike,</div>
<div class="line">                            repoSettlementDays, repoDayCountConvention, bondCalendar,</div>
<div class="line">                            bondBusinessDayConvention, bond, repoCurve, repoCurve);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Underlying bond clean price: &quot;</span></div>
<div class="line">             &lt;&lt; bond-&gt;cleanPrice()</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Underlying bond dirty price: &quot;</span></div>
<div class="line">             &lt;&lt; bond-&gt;dirtyPrice()</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Underlying bond accrued at settlement: &quot;</span></div>
<div class="line">             &lt;&lt; bond-&gt;accruedAmount(repoSettlementDate)</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Underlying bond accrued at delivery:   &quot;</span></div>
<div class="line">             &lt;&lt; bond-&gt;accruedAmount(repoDeliveryDate)</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Underlying bond spot income: &quot;</span></div>
<div class="line">             &lt;&lt; bondFwd.<a id="a12" name="a12"></a><a class="code hl_function" href="../../d8/d9f/class_quant_lib_1_1_bond_forward.html#aaec6fd4368ca7c5ed7bd52444ff441c5">spotIncome</a>(repoCurve)</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Underlying bond fwd income:  &quot;</span></div>
<div class="line">             &lt;&lt; bondFwd.<a class="code hl_function" href="../../d8/d9f/class_quant_lib_1_1_bond_forward.html#aaec6fd4368ca7c5ed7bd52444ff441c5">spotIncome</a>(repoCurve)/</div>
<div class="line">                repoCurve-&gt;discount(repoDeliveryDate)</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Repo strike: &quot;</span></div>
<div class="line">             &lt;&lt; dummyStrike</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Repo NPV:    &quot;</span></div>
<div class="line">             &lt;&lt; bondFwd.<a id="a13" name="a13"></a><a class="code hl_function" href="../../d9/d65/class_quant_lib_1_1_instrument.html#a4f791921f063f3ea19bd6efa9ceb4892">NPV</a>()</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Repo clean forward price: &quot;</span></div>
<div class="line">             &lt;&lt; bondFwd.<a id="a14" name="a14"></a><a class="code hl_function" href="../../d8/d9f/class_quant_lib_1_1_bond_forward.html#a8212bccdc064fa30d02fb17001be2fd9">cleanForwardPrice</a>()</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Repo dirty forward price: &quot;</span></div>
<div class="line">             &lt;&lt; bondFwd.<a id="a15" name="a15"></a><a class="code hl_function" href="../../d8/d9f/class_quant_lib_1_1_bond_forward.html#a665b769ab708840b202708bcda610fa6">forwardPrice</a>()</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Repo implied yield: &quot;</span></div>
<div class="line">             &lt;&lt; bondFwd.<a id="a16" name="a16"></a><a class="code hl_function" href="../../db/dab/class_quant_lib_1_1_forward.html#a639e594493d01a309391da84b2b48f7e">impliedYield</a>(bond-&gt;dirtyPrice(),</div>
<div class="line">                                     dummyStrike,</div>
<div class="line">                                     repoSettlementDate,</div>
<div class="line">                                     repoCompounding,</div>
<div class="line">                                     repoDayCountConvention)</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Market repo rate:   &quot;</span></div>
<div class="line">             &lt;&lt; repoCurve-&gt;zeroRate(repoDeliveryDate,</div>
<div class="line">                                    repoDayCountConvention,</div>
<div class="line">                                    repoCompounding,</div>
<div class="line">                                    repoCompoundFreq)</div>
<div class="line">             &lt;&lt; endl</div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line"> </div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Compare with example given at \n&quot;</span></div>
<div class="line">             &lt;&lt; <span class="stringliteral">&quot;http://www.fincad.com/support/developerFunc/mathref/BFWD.htm&quot;</span></div>
<div class="line">             &lt;&lt;  endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Clean forward price = 88.2408&quot;</span></div>
<div class="line">             &lt;&lt;  endl</div>
<div class="line">             &lt;&lt;  endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;In that example, it is unknown what bond calendar they are\n&quot;</span></div>
<div class="line">             &lt;&lt; <span class="stringliteral">&quot;using, as well as settlement Days. For that reason, I have\n&quot;</span></div>
<div class="line">             &lt;&lt; <span class="stringliteral">&quot;made the simplest possible assumptions here: NullCalendar\n&quot;</span></div>
<div class="line">             &lt;&lt; <span class="stringliteral">&quot;and 0 settlement days.&quot;</span></div>
<div class="line">             &lt;&lt; endl;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line"> </div>
<div class="line">    } <span class="keywordflow">catch</span> (exception&amp; e) {</div>
<div class="line">        cerr &lt;&lt; e.what() &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;unknown error&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="aactual360_8hpp_html"><div class="ttname"><a href="../../d2/dbc/actual360_8hpp.html">actual360.hpp</a></div><div class="ttdoc">act/360 day counter</div></div>
<div class="ttc" id="aauto__link_8hpp_html"><div class="ttname"><a href="../../d7/dbf/auto__link_8hpp.html">auto_link.hpp</a></div></div>
<div class="ttc" id="abondforward_8hpp_html"><div class="ttname"><a href="../../d6/d0f/bondforward_8hpp.html">bondforward.hpp</a></div><div class="ttdoc">forward contract on a bond</div></div>
<div class="ttc" id="aclass_quant_lib_1_1_actual360_html"><div class="ttname"><a href="../../dd/d4e/class_quant_lib_1_1_actual360.html">QuantLib::Actual360</a></div><div class="ttdoc">Actual/360 day count convention.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dbc/actual360_8hpp_source.html#l00037">actual360.hpp:37</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_bond_1_1_price_html"><div class="ttname"><a href="../../d9/d55/class_quant_lib_1_1_bond_1_1_price.html">QuantLib::Bond::Price</a></div><div class="ttdoc">Bond price information.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1e/bond_8hpp_source.html#l00062">bond.hpp:62</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_bond_forward_html"><div class="ttname"><a href="../../d8/d9f/class_quant_lib_1_1_bond_forward.html">QuantLib::BondForward</a></div><div class="ttdoc">Forward contract on a bond</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0f/bondforward_8hpp_source.html#l00069">bondforward.hpp:69</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_bond_forward_html_a665b769ab708840b202708bcda610fa6"><div class="ttname"><a href="../../d8/d9f/class_quant_lib_1_1_bond_forward.html#a665b769ab708840b202708bcda610fa6">QuantLib::BondForward::forwardPrice</a></div><div class="ttdeci">Real forwardPrice() const</div><div class="ttdoc">(dirty) forward bond price</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7a/bondforward_8cpp_source.html#l00054">bondforward.cpp:54</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_bond_forward_html_a8212bccdc064fa30d02fb17001be2fd9"><div class="ttname"><a href="../../d8/d9f/class_quant_lib_1_1_bond_forward.html#a8212bccdc064fa30d02fb17001be2fd9">QuantLib::BondForward::cleanForwardPrice</a></div><div class="ttdeci">Real cleanForwardPrice() const</div><div class="ttdoc">(dirty) forward bond price minus accrued on bond at delivery</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7a/bondforward_8cpp_source.html#l00049">bondforward.cpp:49</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_bond_forward_html_aaec6fd4368ca7c5ed7bd52444ff441c5"><div class="ttname"><a href="../../d8/d9f/class_quant_lib_1_1_bond_forward.html#aaec6fd4368ca7c5ed7bd52444ff441c5">QuantLib::BondForward::spotIncome</a></div><div class="ttdeci">Real spotIncome(const Handle&lt; YieldTermStructure &gt; &amp;incomeDiscountCurve) const override</div><div class="ttdoc">NPV of bond coupons discounted using incomeDiscountCurve.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7a/bondforward_8cpp_source.html#l00059">bondforward.cpp:59</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_calendar_html"><div class="ttname"><a href="../../da/d3e/class_quant_lib_1_1_calendar.html">QuantLib::Calendar</a></div><div class="ttdoc">calendar class</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d39/calendar_8hpp_source.html#l00061">calendar.hpp:61</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_date_html"><div class="ttname"><a href="../../db/d60/class_quant_lib_1_1_date.html">QuantLib::Date</a></div><div class="ttdoc">Concrete date class.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd9/date_8hpp_source.html#l00125">date.hpp:125</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_day_counter_html"><div class="ttname"><a href="../../dd/d24/class_quant_lib_1_1_day_counter.html">QuantLib::DayCounter</a></div><div class="ttdoc">day counter class</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d32/daycounter_8hpp_source.html#l00044">daycounter.hpp:44</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_forward_html_a639e594493d01a309391da84b2b48f7e"><div class="ttname"><a href="../../db/dab/class_quant_lib_1_1_forward.html#a639e594493d01a309391da84b2b48f7e">QuantLib::Forward::impliedYield</a></div><div class="ttdeci">InterestRate impliedYield(Real underlyingSpotValue, Real forwardValue, Date settlementDate, Compounding compoundingConvention, const DayCounter &amp;dayCounter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d15/forward_8cpp_source.html#l00068">forward.cpp:68</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_instrument_html_a4f791921f063f3ea19bd6efa9ceb4892"><div class="ttname"><a href="../../d9/d65/class_quant_lib_1_1_instrument.html#a4f791921f063f3ea19bd6efa9ceb4892">QuantLib::Instrument::NPV</a></div><div class="ttdeci">Real NPV() const</div><div class="ttdoc">returns the net present value of the instrument.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da7/instrument_8hpp_source.html#l00167">instrument.hpp:167</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_null_calendar_html"><div class="ttname"><a href="../../da/d77/class_quant_lib_1_1_null_calendar.html">QuantLib::NullCalendar</a></div><div class="ttdoc">Calendar for reproducing theoretical calculations.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da6/nullcalendar_8hpp_source.html#l00038">nullcalendar.hpp:38</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_period_html"><div class="ttname"><a href="../../df/dfa/class_quant_lib_1_1_period.html">QuantLib::Period</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dff/period_8hpp_source.html#l00044">period.hpp:44</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_relinkable_handle_html"><div class="ttname"><a href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html">QuantLib::RelinkableHandle</a></div><div class="ttdoc">Relinkable handle to an observable.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd4/handle_8hpp_source.html#l00117">handle.hpp:117</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_relinkable_handle_html_a4c6b52dcdb036a4aa90b3533c80198d0"><div class="ttname"><a href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html#a4c6b52dcdb036a4aa90b3533c80198d0">QuantLib::RelinkableHandle::linkTo</a></div><div class="ttdeci">void linkTo(const ext::shared_ptr&lt; T &gt; &amp;h, bool registerAsObserver=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd4/handle_8hpp_source.html#l00214">handle.hpp:214</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_schedule_html"><div class="ttname"><a href="../../d5/d5b/class_quant_lib_1_1_schedule.html">QuantLib::Schedule</a></div><div class="ttdoc">Payment schedule.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd1/schedule_8hpp_source.html#l00040">schedule.hpp:40</a></div></div>
<div class="ttc" id="aclass_quant_lib_1_1_thirty360_html"><div class="ttname"><a href="../../d5/d63/class_quant_lib_1_1_thirty360.html">QuantLib::Thirty360</a></div><div class="ttdoc">30/360 day count convention</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da8/thirty360_8hpp_source.html#l00076">thirty360.hpp:76</a></div></div>
<div class="ttc" id="adiscountingbondengine_8hpp_html"><div class="ttname"><a href="../../d1/df9/discountingbondengine_8hpp.html">discountingbondengine.hpp</a></div><div class="ttdoc">discounting bond engine</div></div>
<div class="ttc" id="afixedratebond_8hpp_html"><div class="ttname"><a href="../../d8/db1/fixedratebond_8hpp.html">fixedratebond.hpp</a></div><div class="ttdoc">fixed-rate bond</div></div>
<div class="ttc" id="aflatforward_8hpp_html"><div class="ttname"><a href="../../d5/d0e/flatforward_8hpp.html">flatforward.hpp</a></div><div class="ttdoc">flat forward rate term structure</div></div>
<div class="ttc" id="agroup__datetime_html_ga6d41db8ba0ea90d22df35889df452ada"><div class="ttname"><a href="../../d1/d37/group__datetime.html#ga6d41db8ba0ea90d22df35889df452ada">QuantLib::Frequency</a></div><div class="ttdeci">Frequency</div><div class="ttdoc">Frequency of events.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d40/frequency_8hpp_source.html#l00037">frequency.hpp:37</a></div></div>
<div class="ttc" id="agroup__datetime_html_gaff46c5ae9385d20709bedade86edd368"><div class="ttname"><a href="../../d1/d37/group__datetime.html#gaff46c5ae9385d20709bedade86edd368">QuantLib::BusinessDayConvention</a></div><div class="ttdeci">BusinessDayConvention</div><div class="ttdoc">Business Day conventions.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da1/businessdayconvention_8hpp_source.html#l00041">businessdayconvention.hpp:41</a></div></div>
<div class="ttc" id="agroup__types_html_ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78"><div class="ttname"><a href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">QuantLib::Real</a></div><div class="ttdeci">QL_REAL Real</div><div class="ttdoc">real number</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de3/types_8hpp_source.html#l00050">types.hpp:50</a></div></div>
<div class="ttc" id="agroup__types_html_gab9c87440c314438e51a899a03d2442d0"><div class="ttname"><a href="../../d6/d59/group__types.html#gab9c87440c314438e51a899a03d2442d0">QuantLib::Integer</a></div><div class="ttdeci">QL_INTEGER Integer</div><div class="ttdoc">integer number</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de3/types_8hpp_source.html#l00035">types.hpp:35</a></div></div>
<div class="ttc" id="agroup__types_html_gaede435af51236692b1107d7639581d39"><div class="ttname"><a href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">QuantLib::Rate</a></div><div class="ttdeci">Real Rate</div><div class="ttdoc">interest rates</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de3/types_8hpp_source.html#l00070">types.hpp:70</a></div></div>
<div class="ttc" id="anamespace_quant_lib_html"><div class="ttname"><a href="../../d5/d7b/namespace_quant_lib.html">QuantLib</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d62/any_8hpp_source.html#l00037">any.hpp:37</a></div></div>
<div class="ttc" id="anamespace_quant_lib_html_a2779d04b4839fd386b5c85bbb96aaf73"><div class="ttname"><a href="../../d5/d7b/namespace_quant_lib.html#a2779d04b4839fd386b5c85bbb96aaf73">QuantLib::Compounding</a></div><div class="ttdeci">Compounding</div><div class="ttdoc">Interest rate coumpounding rule.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d28/compounding_8hpp_source.html#l00032">compounding.hpp:32</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdoc">STL namespace.</div></div>
<div class="ttc" id="anullcalendar_8hpp_html"><div class="ttname"><a href="../../dd/da6/nullcalendar_8hpp.html">nullcalendar.hpp</a></div><div class="ttdoc">Calendar for reproducing theoretical calculations.</div></div>
<div class="ttc" id="aqldefines_8hpp_html"><div class="ttname"><a href="../../de/d56/qldefines_8hpp.html">qldefines.hpp</a></div><div class="ttdoc">Global definitions and compiler switches.</div></div>
<div class="ttc" id="aschedule_8hpp_html"><div class="ttname"><a href="../../d2/dd1/schedule_8hpp.html">schedule.hpp</a></div><div class="ttdoc">date schedule</div></div>
<div class="ttc" id="astruct_quant_lib_1_1_position_html_a1d1cfd8ffb84e947f82999c682b666a7"><div class="ttname"><a href="../../d9/d6f/struct_quant_lib_1_1_position.html#a1d1cfd8ffb84e947f82999c682b666a7">QuantLib::Position::Type</a></div><div class="ttdeci">Type</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d91/position_8hpp_source.html#l00033">position.hpp:33</a></div></div>
<div class="ttc" id="athirty360_8hpp_html"><div class="ttname"><a href="../../d9/da8/thirty360_8hpp.html">thirty360.hpp</a></div><div class="ttdoc">30/360 day counters</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.9.5
</small></address>
</body>
</html>
