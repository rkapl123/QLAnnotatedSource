<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>QuantLib: Bonds.cpp</title>
<link href='http://fonts.googleapis.com/css?family=Merriweather+Sans:800' rel='stylesheet' type='text/css'>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="QuantLib"/>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../quantlibextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname"><a href="http://quantlib.org">
       <img alt="QuantLib" src="QL-title.jpg"></a>
   <div id="projectbrief">A free/open-source library for quantitative finance</div>
   <div id="projectnumber">Annotated Sources - version 1.12</div>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Bonds.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/* -*- mode: c++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */</span></div><div class="line"></div><div class="line"><span class="comment">/*  This example shows how to set up a term structure and then price</span></div><div class="line"><span class="comment">    some simple bonds. The last part is dedicated to peripherical</span></div><div class="line"><span class="comment">    computations such as &quot;Yield to Price&quot; or &quot;Price to Yield&quot;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;ql/qldefines.hpp&gt;</span></div><div class="line"><span class="preprocessor">#ifdef BOOST_MSVC</span></div><div class="line"><span class="preprocessor">#  include &lt;ql/auto_link.hpp&gt;</span></div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"><span class="preprocessor">#include &lt;ql/instruments/bonds/zerocouponbond.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/instruments/bonds/floatingratebond.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/pricingengines/bond/discountingbondengine.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/cashflows/couponpricer.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/termstructures/yield/piecewiseyieldcurve.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/termstructures/yield/bondhelpers.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/termstructures/volatility/optionlet/constantoptionletvol.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/indexes/ibor/euribor.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/indexes/ibor/usdlibor.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/time/calendars/target.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/time/calendars/unitedstates.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/time/daycounters/actualactual.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/time/daycounters/actual360.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ql/time/daycounters/thirty360.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;boost/timer.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iomanip&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d5/d7b/namespace_quant_lib.html">QuantLib</a>;</div><div class="line"></div><div class="line"><span class="preprocessor">#if defined(QL_ENABLE_SESSIONS)</span></div><div class="line"><span class="keyword">namespace </span><a class="code" href="../../d5/d7b/namespace_quant_lib.html">QuantLib</a> {</div><div class="line"></div><div class="line"><a name="a0"></a><a class="code" href="../../d6/d59/group__types.html#gab9c87440c314438e51a899a03d2442d0">Integer</a> sessionId() { <span class="keywordflow">return</span> 0; }</div><div class="line"></div><div class="line">}</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span>, <span class="keywordtype">char</span>* []) {</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span> {</div><div class="line"></div><div class="line">        boost::timer timer;</div><div class="line">        std::cout &lt;&lt; std::endl;</div><div class="line"></div><div class="line">        <span class="comment">/*********************</span></div><div class="line"><span class="comment">         ***  MARKET DATA  ***</span></div><div class="line"><span class="comment">         *********************/</span></div><div class="line"></div><div class="line">        <a name="_a1"></a><a class="code" href="../../da/d3e/class_quant_lib_1_1_calendar.html">Calendar</a> calendar = <a name="_a2"></a><a class="code" href="../../dd/d13/class_quant_lib_1_1_t_a_r_g_e_t.html">TARGET</a>();</div><div class="line"></div><div class="line">        <a name="_a3"></a><a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> settlementDate(18, <a name="a4"></a><a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbbaf5dc1d3f398ac54dfac9985fb9fbe47d">September</a>, 2008);</div><div class="line">        <span class="comment">// must be a business day</span></div><div class="line">        settlementDate = calendar.<a name="a5"></a><a class="code" href="../../da/d3e/class_quant_lib_1_1_calendar.html#a712629806d9ef9a39f8144f368c81e4b">adjust</a>(settlementDate);</div><div class="line"></div><div class="line">        <a class="code" href="../../d6/d59/group__types.html#gab9c87440c314438e51a899a03d2442d0">Integer</a> fixingDays = 3;</div><div class="line">        <a name="a6"></a><a class="code" href="../../d6/d59/group__types.html#ga7e529c39c477ba1f5a22264d93e8457a">Natural</a> settlementDays = 3;</div><div class="line"></div><div class="line">        <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> todaysDate = calendar.<a name="a7"></a><a class="code" href="../../da/d3e/class_quant_lib_1_1_calendar.html#ab3fc4d2c4ba5243c3f5d51dcb3077ceb">advance</a>(settlementDate, -fixingDays, <a name="a8"></a><a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476dacf3635c7cd314f8102d734f94d0791c0">Days</a>);</div><div class="line">        <span class="comment">// nothing to do with Date::todaysDate</span></div><div class="line">        <a name="a9"></a><a class="code" href="../../db/ddb/class_quant_lib_1_1_singleton.html#ab7455b7e1235d292c444095842349291">Settings::instance</a>().<a name="a10"></a><a class="code" href="../../d7/de1/class_quant_lib_1_1_settings.html#a95055e9410ed0465a5f30d3ffc90c1d3">evaluationDate</a>() = todaysDate;</div><div class="line"></div><div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Today: &quot;</span> &lt;&lt; todaysDate.<a name="a11"></a><a class="code" href="../../db/d60/class_quant_lib_1_1_date.html#a8beb14a6b168772900b48e3161b4c0e6">weekday</a>()</div><div class="line">        &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; todaysDate &lt;&lt; std::endl;</div><div class="line"></div><div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Settlement date: &quot;</span> &lt;&lt; settlementDate.<a class="code" href="../../db/d60/class_quant_lib_1_1_date.html#a8beb14a6b168772900b48e3161b4c0e6">weekday</a>()</div><div class="line">        &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; settlementDate &lt;&lt; std::endl;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// Building of the bonds discounting yield curve</span></div><div class="line"></div><div class="line">        <span class="comment">/*********************</span></div><div class="line"><span class="comment">         ***  RATE HELPERS ***</span></div><div class="line"><span class="comment">         *********************/</span></div><div class="line"></div><div class="line">        <span class="comment">// RateHelpers are built from the above quotes together with</span></div><div class="line">        <span class="comment">// other instrument dependant infos.  Quotes are passed in</span></div><div class="line">        <span class="comment">// relinkable handles which could be relinked to some other</span></div><div class="line">        <span class="comment">// data source later.</span></div><div class="line"></div><div class="line">        <span class="comment">// Common data</span></div><div class="line"></div><div class="line">        <span class="comment">// ZC rates for the short end</span></div><div class="line">         <a name="a12"></a><a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> zc3mQuote=0.0096;</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> zc6mQuote=0.0145;</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> zc1yQuote=0.0194;</div><div class="line"></div><div class="line">         boost::shared_ptr&lt;Quote&gt; zc3mRate(<span class="keyword">new</span> <a name="_a13"></a><a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(zc3mQuote));</div><div class="line">         boost::shared_ptr&lt;Quote&gt; zc6mRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(zc6mQuote));</div><div class="line">         boost::shared_ptr&lt;Quote&gt; zc1yRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(zc1yQuote));</div><div class="line"></div><div class="line">         <a name="_a14"></a><a class="code" href="../../dd/d24/class_quant_lib_1_1_day_counter.html">DayCounter</a> zcBondsDayCounter = <a name="_a15"></a><a class="code" href="../../d8/dbb/class_quant_lib_1_1_actual365_fixed.html">Actual365Fixed</a>();</div><div class="line"></div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; zc3m(<span class="keyword">new</span> <a name="_a16"></a><a class="code" href="../../dd/de6/class_quant_lib_1_1_deposit_rate_helper.html">DepositRateHelper</a>(</div><div class="line">                 <a name="_a17"></a><a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(zc3mRate),</div><div class="line">                 3*<a name="a18"></a><a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da0e4551da8e98ec0440937d5281013b54">Months</a>, fixingDays,</div><div class="line">                 calendar, <a name="a19"></a><a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a013e092c359f6031cc0563fd413ce707">ModifiedFollowing</a>,</div><div class="line">                 <span class="keyword">true</span>, zcBondsDayCounter));</div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; zc6m(<span class="keyword">new</span> <a class="code" href="../../dd/de6/class_quant_lib_1_1_deposit_rate_helper.html">DepositRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(zc6mRate),</div><div class="line">                 6*<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da0e4551da8e98ec0440937d5281013b54">Months</a>, fixingDays,</div><div class="line">                 calendar, <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a013e092c359f6031cc0563fd413ce707">ModifiedFollowing</a>,</div><div class="line">                 <span class="keyword">true</span>, zcBondsDayCounter));</div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; zc1y(<span class="keyword">new</span> <a class="code" href="../../dd/de6/class_quant_lib_1_1_deposit_rate_helper.html">DepositRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(zc1yRate),</div><div class="line">                 1*<a name="a20"></a><a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da2dd3e252f82116d71a54132e95aaa56d">Years</a>, fixingDays,</div><div class="line">                 calendar, <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a013e092c359f6031cc0563fd413ce707">ModifiedFollowing</a>,</div><div class="line">                 <span class="keyword">true</span>, zcBondsDayCounter));</div><div class="line"></div><div class="line">        <span class="comment">// setup bonds</span></div><div class="line">        <a name="a21"></a><a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> redemption = 100.0;</div><div class="line"></div><div class="line">        <span class="keyword">const</span> <a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> numberOfBonds = 5;</div><div class="line"></div><div class="line">        <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> issueDates[] = {</div><div class="line">                <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> (15, <a name="a22"></a><a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba6514826513b9cfb1bf828001f1a8f246">March</a>, 2005),</div><div class="line">                <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> (15, <a name="a23"></a><a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbbaa00f035b8f40661118c16e2af3e61176">June</a>, 2005),</div><div class="line">                <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> (30, <a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbbaa00f035b8f40661118c16e2af3e61176">June</a>, 2006),</div><div class="line">                <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> (15, <a name="a24"></a><a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba8e47b1d81b37f8244bbc0420573104c1">November</a>, 2002),</div><div class="line">                <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> (15, <a name="a25"></a><a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba56032654a15262d69e8be7d42a7ab381">May</a>, 1987)</div><div class="line">        };</div><div class="line"></div><div class="line">        <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> maturities[] = {</div><div class="line">                <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> (31, <a name="a26"></a><a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba1c412406c5a889dd051e12d67f407d85">August</a>, 2010),</div><div class="line">                <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> (31, <a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba1c412406c5a889dd051e12d67f407d85">August</a>, 2011),</div><div class="line">                <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> (31, <a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba1c412406c5a889dd051e12d67f407d85">August</a>, 2013),</div><div class="line">                <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> (15, <a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba1c412406c5a889dd051e12d67f407d85">August</a>, 2018),</div><div class="line">                <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a> (15, <a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba56032654a15262d69e8be7d42a7ab381">May</a>, 2038)</div><div class="line">        };</div><div class="line"></div><div class="line">        <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> couponRates[] = {</div><div class="line">                0.02375,</div><div class="line">                0.04625,</div><div class="line">                0.03125,</div><div class="line">                0.04000,</div><div class="line">                0.04500</div><div class="line">        };</div><div class="line"></div><div class="line">        <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> marketQuotes[] = {</div><div class="line">                100.390625,</div><div class="line">                106.21875,</div><div class="line">                100.59375,</div><div class="line">                101.6875,</div><div class="line">                102.140625</div><div class="line">        };</div><div class="line"></div><div class="line">        std::vector&lt; boost::shared_ptr&lt;SimpleQuote&gt; &gt; quote;</div><div class="line">        <span class="keywordflow">for</span> (<a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> i=0; i&lt;numberOfBonds; i++) {</div><div class="line">            boost::shared_ptr&lt;SimpleQuote&gt; cp(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(marketQuotes[i]));</div><div class="line">            quote.push_back(cp);</div><div class="line">        }</div><div class="line"></div><div class="line">        <a name="_a27"></a><a class="code" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html">RelinkableHandle&lt;Quote&gt;</a> quoteHandle[numberOfBonds];</div><div class="line">        <span class="keywordflow">for</span> (<a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> i=0; i&lt;numberOfBonds; i++) {</div><div class="line">            quoteHandle[i].<a name="a28"></a><a class="code" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html#a7eec88ccb240dcc59ac81e7347c335bd">linkTo</a>(quote[i]);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Definition of the rate helpers</span></div><div class="line">        std::vector&lt;boost::shared_ptr&lt;BondHelper&gt; &gt; bondsHelpers;</div><div class="line"></div><div class="line">        <span class="keywordflow">for</span> (<a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> i=0; i&lt;numberOfBonds; i++) {</div><div class="line"></div><div class="line">            <a name="_a29"></a><a class="code" href="../../d5/d5b/class_quant_lib_1_1_schedule.html">Schedule</a> schedule(issueDates[i], maturities[i], <a name="_a30"></a><a class="code" href="../../df/dfa/class_quant_lib_1_1_period.html">Period</a>(<a name="a31"></a><a class="code" href="../../d1/d37/group__datetime.html#gga6d41db8ba0ea90d22df35889df452adaad1a5868a1c314bb7f6ab68e2fa182b2d">Semiannual</a>), <a name="_a32"></a><a class="code" href="../../d2/d41/class_quant_lib_1_1_united_states.html">UnitedStates</a>(<a name="a33"></a><a class="code" href="../../d2/d41/class_quant_lib_1_1_united_states.html#abe41cfffd960e29a5d8b07be00aeda42a561f5c560b2b1a55abd84072867a8016">UnitedStates::GovernmentBond</a>),</div><div class="line">                    <a name="a34"></a><a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a5fb8b90b7fdf1a3a228fbbc083e64547">Unadjusted</a>, <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a5fb8b90b7fdf1a3a228fbbc083e64547">Unadjusted</a>, <a name="a35"></a><a class="code" href="../../dc/dcb/struct_quant_lib_1_1_date_generation.html#a11fcd51ef86118f65e603c1474377a78a67e19347f85332c3bbfd61266cecbe4e">DateGeneration::Backward</a>, <span class="keyword">false</span>);</div><div class="line"></div><div class="line">            boost::shared_ptr&lt;FixedRateBondHelper&gt; bondHelper(<span class="keyword">new</span> <a name="_a36"></a><a class="code" href="../../d2/df1/class_quant_lib_1_1_fixed_rate_bond_helper.html">FixedRateBondHelper</a>(</div><div class="line">                    quoteHandle[i],</div><div class="line">                    settlementDays,</div><div class="line">                    100.0,</div><div class="line">                    schedule,</div><div class="line">                    std::vector&lt;Rate&gt;(1,couponRates[i]),</div><div class="line">                    <a name="_a37"></a><a class="code" href="../../de/dee/class_quant_lib_1_1_actual_actual.html">ActualActual</a>(<a name="a38"></a><a class="code" href="../../de/dee/class_quant_lib_1_1_actual_actual.html#a63f911c95b83cbc4ac0d194f99c67578ab6eb09f3e2e2185fb94794f3645744b7">ActualActual::Bond</a>),</div><div class="line">                    <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a5fb8b90b7fdf1a3a228fbbc083e64547">Unadjusted</a>,</div><div class="line">                    redemption,</div><div class="line">                    issueDates[i]));</div><div class="line"></div><div class="line">            <span class="comment">// the above could also be done by creating a</span></div><div class="line">            <span class="comment">// FixedRateBond instance and writing:</span></div><div class="line">            <span class="comment">//</span></div><div class="line">            <span class="comment">// boost::shared_ptr&lt;BondHelper&gt; bondHelper(</span></div><div class="line">            <span class="comment">//         new BondHelper(quoteHandle[i], bond));</span></div><div class="line">            <span class="comment">//</span></div><div class="line">            <span class="comment">// This would also work for bonds that still don&#39;t have a</span></div><div class="line">            <span class="comment">// specialized helper, such as floating-rate bonds.</span></div><div class="line"></div><div class="line"></div><div class="line">            bondsHelpers.push_back(bondHelper);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/*********************</span></div><div class="line"><span class="comment">         **  CURVE BUILDING **</span></div><div class="line"><span class="comment">         *********************/</span></div><div class="line"></div><div class="line">         <span class="comment">// Any DayCounter would be fine.</span></div><div class="line">         <span class="comment">// ActualActual::ISDA ensures that 30 years is 30.0</span></div><div class="line">         <a class="code" href="../../dd/d24/class_quant_lib_1_1_day_counter.html">DayCounter</a> termStructureDayCounter =</div><div class="line">             <a class="code" href="../../de/dee/class_quant_lib_1_1_actual_actual.html">ActualActual</a>(<a name="a39"></a><a class="code" href="../../de/dee/class_quant_lib_1_1_actual_actual.html#a63f911c95b83cbc4ac0d194f99c67578a98585fde8dc70056789d25e9b7263825">ActualActual::ISDA</a>);</div><div class="line"></div><div class="line">         <span class="keywordtype">double</span> tolerance = 1.0e-15;</div><div class="line"></div><div class="line">         <span class="comment">// A depo-bond curve</span></div><div class="line">         std::vector&lt;boost::shared_ptr&lt;RateHelper&gt; &gt; bondInstruments;</div><div class="line"></div><div class="line">         <span class="comment">// Adding the ZC bonds to the curve for the short end</span></div><div class="line">         bondInstruments.push_back(zc3m);</div><div class="line">         bondInstruments.push_back(zc6m);</div><div class="line">         bondInstruments.push_back(zc1y);</div><div class="line"></div><div class="line">         <span class="comment">// Adding the Fixed rate bonds to the curve for the long end</span></div><div class="line">         <span class="keywordflow">for</span> (<a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> i=0; i&lt;numberOfBonds; i++) {</div><div class="line">             bondInstruments.push_back(bondsHelpers[i]);</div><div class="line">         }</div><div class="line"></div><div class="line">         boost::shared_ptr&lt;YieldTermStructure&gt; bondDiscountingTermStructure(</div><div class="line">                 <span class="keyword">new</span> <a name="_a40"></a><a class="code" href="../../dd/db4/class_quant_lib_1_1_piecewise_yield_curve.html">PiecewiseYieldCurve&lt;Discount,LogLinear&gt;</a>(</div><div class="line">                         settlementDate, bondInstruments,</div><div class="line">                         termStructureDayCounter,</div><div class="line">                         tolerance));</div><div class="line"></div><div class="line">         <span class="comment">// Building of the Libor forecasting curve</span></div><div class="line">         <span class="comment">// deposits</span></div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> d1wQuote=0.043375;</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> d1mQuote=0.031875;</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> d3mQuote=0.0320375;</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> d6mQuote=0.03385;</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> d9mQuote=0.0338125;</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> d1yQuote=0.0335125;</div><div class="line">         <span class="comment">// swaps</span></div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> s2yQuote=0.0295;</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> s3yQuote=0.0323;</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> s5yQuote=0.0359;</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> s10yQuote=0.0412;</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaede435af51236692b1107d7639581d39">Rate</a> s15yQuote=0.0433;</div><div class="line"></div><div class="line"></div><div class="line">         <span class="comment">/********************</span></div><div class="line"><span class="comment">          ***    QUOTES    ***</span></div><div class="line"><span class="comment">          ********************/</span></div><div class="line"></div><div class="line">         <span class="comment">// SimpleQuote stores a value which can be manually changed;</span></div><div class="line">         <span class="comment">// other Quote subclasses could read the value from a database</span></div><div class="line">         <span class="comment">// or some kind of data feed.</span></div><div class="line"></div><div class="line">         <span class="comment">// deposits</span></div><div class="line">         boost::shared_ptr&lt;Quote&gt; d1wRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(d1wQuote));</div><div class="line">         boost::shared_ptr&lt;Quote&gt; d1mRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(d1mQuote));</div><div class="line">         boost::shared_ptr&lt;Quote&gt; d3mRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(d3mQuote));</div><div class="line">         boost::shared_ptr&lt;Quote&gt; d6mRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(d6mQuote));</div><div class="line">         boost::shared_ptr&lt;Quote&gt; d9mRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(d9mQuote));</div><div class="line">         boost::shared_ptr&lt;Quote&gt; d1yRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(d1yQuote));</div><div class="line">         <span class="comment">// swaps</span></div><div class="line">         boost::shared_ptr&lt;Quote&gt; s2yRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(s2yQuote));</div><div class="line">         boost::shared_ptr&lt;Quote&gt; s3yRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(s3yQuote));</div><div class="line">         boost::shared_ptr&lt;Quote&gt; s5yRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(s5yQuote));</div><div class="line">         boost::shared_ptr&lt;Quote&gt; s10yRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(s10yQuote));</div><div class="line">         boost::shared_ptr&lt;Quote&gt; s15yRate(<span class="keyword">new</span> <a class="code" href="../../d1/d49/class_quant_lib_1_1_simple_quote.html">SimpleQuote</a>(s15yQuote));</div><div class="line"></div><div class="line">         <span class="comment">/*********************</span></div><div class="line"><span class="comment">          ***  RATE HELPERS ***</span></div><div class="line"><span class="comment">          *********************/</span></div><div class="line"></div><div class="line">         <span class="comment">// RateHelpers are built from the above quotes together with</span></div><div class="line">         <span class="comment">// other instrument dependant infos.  Quotes are passed in</span></div><div class="line">         <span class="comment">// relinkable handles which could be relinked to some other</span></div><div class="line">         <span class="comment">// data source later.</span></div><div class="line"></div><div class="line">         <span class="comment">// deposits</span></div><div class="line">         <a class="code" href="../../dd/d24/class_quant_lib_1_1_day_counter.html">DayCounter</a> depositDayCounter = <a name="_a41"></a><a class="code" href="../../dd/d4e/class_quant_lib_1_1_actual360.html">Actual360</a>();</div><div class="line"></div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; d1w(<span class="keyword">new</span> <a class="code" href="../../dd/de6/class_quant_lib_1_1_deposit_rate_helper.html">DepositRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(d1wRate),</div><div class="line">                 1*<a name="a42"></a><a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da36e432443c4cd0728911d2392c73daca">Weeks</a>, fixingDays,</div><div class="line">                 calendar, <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a013e092c359f6031cc0563fd413ce707">ModifiedFollowing</a>,</div><div class="line">                 <span class="keyword">true</span>, depositDayCounter));</div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; d1m(<span class="keyword">new</span> <a class="code" href="../../dd/de6/class_quant_lib_1_1_deposit_rate_helper.html">DepositRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(d1mRate),</div><div class="line">                 1*<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da0e4551da8e98ec0440937d5281013b54">Months</a>, fixingDays,</div><div class="line">                 calendar, <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a013e092c359f6031cc0563fd413ce707">ModifiedFollowing</a>,</div><div class="line">                 <span class="keyword">true</span>, depositDayCounter));</div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; d3m(<span class="keyword">new</span> <a class="code" href="../../dd/de6/class_quant_lib_1_1_deposit_rate_helper.html">DepositRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(d3mRate),</div><div class="line">                 3*<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da0e4551da8e98ec0440937d5281013b54">Months</a>, fixingDays,</div><div class="line">                 calendar, <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a013e092c359f6031cc0563fd413ce707">ModifiedFollowing</a>,</div><div class="line">                 <span class="keyword">true</span>, depositDayCounter));</div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; d6m(<span class="keyword">new</span> <a class="code" href="../../dd/de6/class_quant_lib_1_1_deposit_rate_helper.html">DepositRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(d6mRate),</div><div class="line">                 6*<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da0e4551da8e98ec0440937d5281013b54">Months</a>, fixingDays,</div><div class="line">                 calendar, <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a013e092c359f6031cc0563fd413ce707">ModifiedFollowing</a>,</div><div class="line">                 <span class="keyword">true</span>, depositDayCounter));</div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; d9m(<span class="keyword">new</span> <a class="code" href="../../dd/de6/class_quant_lib_1_1_deposit_rate_helper.html">DepositRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(d9mRate),</div><div class="line">                 9*<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da0e4551da8e98ec0440937d5281013b54">Months</a>, fixingDays,</div><div class="line">                 calendar, <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a013e092c359f6031cc0563fd413ce707">ModifiedFollowing</a>,</div><div class="line">                 <span class="keyword">true</span>, depositDayCounter));</div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; d1y(<span class="keyword">new</span> <a class="code" href="../../dd/de6/class_quant_lib_1_1_deposit_rate_helper.html">DepositRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(d1yRate),</div><div class="line">                 1*<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da2dd3e252f82116d71a54132e95aaa56d">Years</a>, fixingDays,</div><div class="line">                 calendar, <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a013e092c359f6031cc0563fd413ce707">ModifiedFollowing</a>,</div><div class="line">                 <span class="keyword">true</span>, depositDayCounter));</div><div class="line"></div><div class="line">         <span class="comment">// setup swaps</span></div><div class="line">         <a class="code" href="../../d1/d37/group__datetime.html#ga6d41db8ba0ea90d22df35889df452ada">Frequency</a> swFixedLegFrequency = <a name="a43"></a><a class="code" href="../../d1/d37/group__datetime.html#gga6d41db8ba0ea90d22df35889df452adaa508b18014c96e2d466c12b39d7f4e426">Annual</a>;</div><div class="line">         <a class="code" href="../../d1/d37/group__datetime.html#gaff46c5ae9385d20709bedade86edd368">BusinessDayConvention</a> swFixedLegConvention = <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a5fb8b90b7fdf1a3a228fbbc083e64547">Unadjusted</a>;</div><div class="line">         <a class="code" href="../../dd/d24/class_quant_lib_1_1_day_counter.html">DayCounter</a> swFixedLegDayCounter = <a name="_a44"></a><a class="code" href="../../d5/d63/class_quant_lib_1_1_thirty360.html">Thirty360</a>(<a name="a45"></a><a class="code" href="../../d5/d63/class_quant_lib_1_1_thirty360.html#a63f911c95b83cbc4ac0d194f99c67578a44fbacd0de93fa25f6ca3b44e0c426c2">Thirty360::European</a>);</div><div class="line">         boost::shared_ptr&lt;IborIndex&gt; swFloatingLegIndex(<span class="keyword">new</span> <a name="_a46"></a><a class="code" href="../../d6/d37/class_quant_lib_1_1_euribor6_m.html">Euribor6M</a>);</div><div class="line"></div><div class="line">         <span class="keyword">const</span> <a class="code" href="../../df/dfa/class_quant_lib_1_1_period.html">Period</a> forwardStart(1*<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476dacf3635c7cd314f8102d734f94d0791c0">Days</a>);</div><div class="line"></div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; s2y(<span class="keyword">new</span> <a name="_a47"></a><a class="code" href="../../dd/df9/class_quant_lib_1_1_swap_rate_helper.html">SwapRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(s2yRate), 2*<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da2dd3e252f82116d71a54132e95aaa56d">Years</a>,</div><div class="line">                 calendar, swFixedLegFrequency,</div><div class="line">                 swFixedLegConvention, swFixedLegDayCounter,</div><div class="line">                 swFloatingLegIndex, <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(),forwardStart));</div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; s3y(<span class="keyword">new</span> <a class="code" href="../../dd/df9/class_quant_lib_1_1_swap_rate_helper.html">SwapRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(s3yRate), 3*<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da2dd3e252f82116d71a54132e95aaa56d">Years</a>,</div><div class="line">                 calendar, swFixedLegFrequency,</div><div class="line">                 swFixedLegConvention, swFixedLegDayCounter,</div><div class="line">                 swFloatingLegIndex, <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(),forwardStart));</div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; s5y(<span class="keyword">new</span> <a class="code" href="../../dd/df9/class_quant_lib_1_1_swap_rate_helper.html">SwapRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(s5yRate), 5*<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da2dd3e252f82116d71a54132e95aaa56d">Years</a>,</div><div class="line">                 calendar, swFixedLegFrequency,</div><div class="line">                 swFixedLegConvention, swFixedLegDayCounter,</div><div class="line">                 swFloatingLegIndex, <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(),forwardStart));</div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; s10y(<span class="keyword">new</span> <a class="code" href="../../dd/df9/class_quant_lib_1_1_swap_rate_helper.html">SwapRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(s10yRate), 10*<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da2dd3e252f82116d71a54132e95aaa56d">Years</a>,</div><div class="line">                 calendar, swFixedLegFrequency,</div><div class="line">                 swFixedLegConvention, swFixedLegDayCounter,</div><div class="line">                 swFloatingLegIndex, <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(),forwardStart));</div><div class="line">         boost::shared_ptr&lt;RateHelper&gt; s15y(<span class="keyword">new</span> <a class="code" href="../../dd/df9/class_quant_lib_1_1_swap_rate_helper.html">SwapRateHelper</a>(</div><div class="line">                 <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(s15yRate), 15*<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da2dd3e252f82116d71a54132e95aaa56d">Years</a>,</div><div class="line">                 calendar, swFixedLegFrequency,</div><div class="line">                 swFixedLegConvention, swFixedLegDayCounter,</div><div class="line">                 swFloatingLegIndex, <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;Quote&gt;</a>(),forwardStart));</div><div class="line"></div><div class="line"></div><div class="line">         <span class="comment">/*********************</span></div><div class="line"><span class="comment">          **  CURVE BUILDING **</span></div><div class="line"><span class="comment">          *********************/</span></div><div class="line"></div><div class="line">         <span class="comment">// Any DayCounter would be fine.</span></div><div class="line">         <span class="comment">// ActualActual::ISDA ensures that 30 years is 30.0</span></div><div class="line"></div><div class="line">         <span class="comment">// A depo-swap curve</span></div><div class="line">         std::vector&lt;boost::shared_ptr&lt;RateHelper&gt; &gt; depoSwapInstruments;</div><div class="line">         depoSwapInstruments.push_back(d1w);</div><div class="line">         depoSwapInstruments.push_back(d1m);</div><div class="line">         depoSwapInstruments.push_back(d3m);</div><div class="line">         depoSwapInstruments.push_back(d6m);</div><div class="line">         depoSwapInstruments.push_back(d9m);</div><div class="line">         depoSwapInstruments.push_back(d1y);</div><div class="line">         depoSwapInstruments.push_back(s2y);</div><div class="line">         depoSwapInstruments.push_back(s3y);</div><div class="line">         depoSwapInstruments.push_back(s5y);</div><div class="line">         depoSwapInstruments.push_back(s10y);</div><div class="line">         depoSwapInstruments.push_back(s15y);</div><div class="line">         boost::shared_ptr&lt;YieldTermStructure&gt; depoSwapTermStructure(</div><div class="line">                 <span class="keyword">new</span> <a class="code" href="../../dd/db4/class_quant_lib_1_1_piecewise_yield_curve.html">PiecewiseYieldCurve&lt;Discount,LogLinear&gt;</a>(</div><div class="line">                         settlementDate, depoSwapInstruments,</div><div class="line">                         termStructureDayCounter,</div><div class="line">                         tolerance));</div><div class="line"></div><div class="line">         <span class="comment">// Term structures that will be used for pricing:</span></div><div class="line">         <span class="comment">// the one used for discounting cash flows</span></div><div class="line">         <a class="code" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html">RelinkableHandle&lt;YieldTermStructure&gt;</a> discountingTermStructure;</div><div class="line">         <span class="comment">// the one used for forward rate forecasting</span></div><div class="line">         <a class="code" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html">RelinkableHandle&lt;YieldTermStructure&gt;</a> forecastingTermStructure;</div><div class="line"></div><div class="line">         <span class="comment">/*********************</span></div><div class="line"><span class="comment">          * BONDS TO BE PRICED *</span></div><div class="line"><span class="comment">          **********************/</span></div><div class="line"></div><div class="line">         <span class="comment">// Common data</span></div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a> faceAmount = 100;</div><div class="line"></div><div class="line">         <span class="comment">// Pricing engine</span></div><div class="line">         boost::shared_ptr&lt;PricingEngine&gt; bondEngine(</div><div class="line">                 <span class="keyword">new</span> <a name="_a48"></a><a class="code" href="../../d0/d7a/class_quant_lib_1_1_discounting_bond_engine.html">DiscountingBondEngine</a>(discountingTermStructure));</div><div class="line"></div><div class="line">         <span class="comment">// Zero coupon bond</span></div><div class="line">         <a name="_a49"></a><a class="code" href="../../da/d3a/class_quant_lib_1_1_zero_coupon_bond.html">ZeroCouponBond</a> zeroCouponBond(</div><div class="line">                 settlementDays,</div><div class="line">                 <a class="code" href="../../d2/d41/class_quant_lib_1_1_united_states.html">UnitedStates</a>(<a class="code" href="../../d2/d41/class_quant_lib_1_1_united_states.html#abe41cfffd960e29a5d8b07be00aeda42a561f5c560b2b1a55abd84072867a8016">UnitedStates::GovernmentBond</a>),</div><div class="line">                 faceAmount,</div><div class="line">                 <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a>(15,<a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba1c412406c5a889dd051e12d67f407d85">August</a>,2013),</div><div class="line">                 <a name="a50"></a><a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368ab6a37af780aa2b97f8bbdc4d149dae18">Following</a>,</div><div class="line">                 <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a>(116.92),</div><div class="line">                 <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a>(15,<a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba1c412406c5a889dd051e12d67f407d85">August</a>,2003));</div><div class="line"></div><div class="line">         zeroCouponBond.setPricingEngine(bondEngine);</div><div class="line"></div><div class="line">         <span class="comment">// Fixed 4.5% US Treasury Note</span></div><div class="line">         <a class="code" href="../../d5/d5b/class_quant_lib_1_1_schedule.html">Schedule</a> fixedBondSchedule(<a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a>(15, <a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba56032654a15262d69e8be7d42a7ab381">May</a>, 2007),</div><div class="line">                 <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a>(15,<a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba56032654a15262d69e8be7d42a7ab381">May</a>,2017), <a class="code" href="../../df/dfa/class_quant_lib_1_1_period.html">Period</a>(<a class="code" href="../../d1/d37/group__datetime.html#gga6d41db8ba0ea90d22df35889df452adaad1a5868a1c314bb7f6ab68e2fa182b2d">Semiannual</a>),</div><div class="line">                 <a class="code" href="../../d2/d41/class_quant_lib_1_1_united_states.html">UnitedStates</a>(<a class="code" href="../../d2/d41/class_quant_lib_1_1_united_states.html#abe41cfffd960e29a5d8b07be00aeda42a561f5c560b2b1a55abd84072867a8016">UnitedStates::GovernmentBond</a>),</div><div class="line">                 <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a5fb8b90b7fdf1a3a228fbbc083e64547">Unadjusted</a>, <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a5fb8b90b7fdf1a3a228fbbc083e64547">Unadjusted</a>, <a class="code" href="../../dc/dcb/struct_quant_lib_1_1_date_generation.html#a11fcd51ef86118f65e603c1474377a78a67e19347f85332c3bbfd61266cecbe4e">DateGeneration::Backward</a>, <span class="keyword">false</span>);</div><div class="line"></div><div class="line">         <a name="_a51"></a><a class="code" href="../../d8/df8/class_quant_lib_1_1_fixed_rate_bond.html">FixedRateBond</a> fixedRateBond(</div><div class="line">                 settlementDays,</div><div class="line">                 faceAmount,</div><div class="line">                 fixedBondSchedule,</div><div class="line">                 std::vector&lt;Rate&gt;(1, 0.045),</div><div class="line">                 <a class="code" href="../../de/dee/class_quant_lib_1_1_actual_actual.html">ActualActual</a>(<a class="code" href="../../de/dee/class_quant_lib_1_1_actual_actual.html#a63f911c95b83cbc4ac0d194f99c67578ab6eb09f3e2e2185fb94794f3645744b7">ActualActual::Bond</a>),</div><div class="line">                 <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a013e092c359f6031cc0563fd413ce707">ModifiedFollowing</a>,</div><div class="line">                 100.0, <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a>(15, <a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba56032654a15262d69e8be7d42a7ab381">May</a>, 2007));</div><div class="line"></div><div class="line">         fixedRateBond.setPricingEngine(bondEngine);</div><div class="line"></div><div class="line">         <span class="comment">// Floating rate bond (3M USD Libor + 0.1%)</span></div><div class="line">         <span class="comment">// Should and will be priced on another curve later...</span></div><div class="line"></div><div class="line">         <a class="code" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html">RelinkableHandle&lt;YieldTermStructure&gt;</a> liborTermStructure;</div><div class="line">         <span class="keyword">const</span> boost::shared_ptr&lt;IborIndex&gt; libor3m(</div><div class="line">                 <span class="keyword">new</span> <a name="_a52"></a><a class="code" href="../../de/df9/class_quant_lib_1_1_u_s_d_libor.html">USDLibor</a>(<a class="code" href="../../df/dfa/class_quant_lib_1_1_period.html">Period</a>(3,<a class="code" href="../../d1/d37/group__datetime.html#ggadd9fe45e09605eee3e4a39c8a5c4476da0e4551da8e98ec0440937d5281013b54">Months</a>),liborTermStructure));</div><div class="line">         libor3m-&gt;addFixing(<a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a>(17, <a name="a53"></a><a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba4d7f4874d317b02a2f96fc0da6310d0f">July</a>, 2008),0.0278625);</div><div class="line"></div><div class="line">         <a class="code" href="../../d5/d5b/class_quant_lib_1_1_schedule.html">Schedule</a> floatingBondSchedule(<a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a>(21, <a name="a54"></a><a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba8e8c7d515e22b7c7d882ae4c97584c14">October</a>, 2005),</div><div class="line">                 <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a>(21, <a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba8e8c7d515e22b7c7d882ae4c97584c14">October</a>, 2010), <a class="code" href="../../df/dfa/class_quant_lib_1_1_period.html">Period</a>(<a name="a55"></a><a class="code" href="../../d1/d37/group__datetime.html#gga6d41db8ba0ea90d22df35889df452adaab4fce358383d1822f7596659e00b07f7">Quarterly</a>),</div><div class="line">                 <a class="code" href="../../d2/d41/class_quant_lib_1_1_united_states.html">UnitedStates</a>(<a name="a56"></a><a class="code" href="../../d2/d41/class_quant_lib_1_1_united_states.html#abe41cfffd960e29a5d8b07be00aeda42a3f2821f9809075eb575505bcc2525103">UnitedStates::NYSE</a>),</div><div class="line">                 <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a5fb8b90b7fdf1a3a228fbbc083e64547">Unadjusted</a>, <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a5fb8b90b7fdf1a3a228fbbc083e64547">Unadjusted</a>, <a class="code" href="../../dc/dcb/struct_quant_lib_1_1_date_generation.html#a11fcd51ef86118f65e603c1474377a78a67e19347f85332c3bbfd61266cecbe4e">DateGeneration::Backward</a>, <span class="keyword">true</span>);</div><div class="line"></div><div class="line">         <a name="_a57"></a><a class="code" href="../../d4/dcb/class_quant_lib_1_1_floating_rate_bond.html">FloatingRateBond</a> floatingRateBond(</div><div class="line">                 settlementDays,</div><div class="line">                 faceAmount,</div><div class="line">                 floatingBondSchedule,</div><div class="line">                 libor3m,</div><div class="line">                 <a class="code" href="../../dd/d4e/class_quant_lib_1_1_actual360.html">Actual360</a>(),</div><div class="line">                 <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a013e092c359f6031cc0563fd413ce707">ModifiedFollowing</a>,</div><div class="line">                 <a class="code" href="../../d6/d59/group__types.html#ga7e529c39c477ba1f5a22264d93e8457a">Natural</a>(2),</div><div class="line">                 <span class="comment">// Gearings</span></div><div class="line">                 std::vector&lt;Real&gt;(1, 1.0),</div><div class="line">                 <span class="comment">// Spreads</span></div><div class="line">                 std::vector&lt;Rate&gt;(1, 0.001),</div><div class="line">                 <span class="comment">// Caps</span></div><div class="line">                 std::vector&lt;Rate&gt;(),</div><div class="line">                 <span class="comment">// Floors</span></div><div class="line">                 std::vector&lt;Rate&gt;(),</div><div class="line">                 <span class="comment">// Fixing in arrears</span></div><div class="line">                 <span class="keyword">true</span>,</div><div class="line">                 <a class="code" href="../../d6/d59/group__types.html#ga4bdf4bfe76b9ffa6fa64c47d8bfa0c78">Real</a>(100.0),</div><div class="line">                 <a class="code" href="../../db/d60/class_quant_lib_1_1_date.html">Date</a>(21, <a class="code" href="../../d1/d37/group__datetime.html#ggae34b763987dcf60c6c619d327b8c9dbba8e8c7d515e22b7c7d882ae4c97584c14">October</a>, 2005));</div><div class="line"></div><div class="line">         floatingRateBond.setPricingEngine(bondEngine);</div><div class="line"></div><div class="line">         <span class="comment">// Coupon pricers</span></div><div class="line">         boost::shared_ptr&lt;IborCouponPricer&gt; pricer(<span class="keyword">new</span> <a name="_a58"></a><a class="code" href="../../d6/dcd/class_quant_lib_1_1_black_ibor_coupon_pricer.html">BlackIborCouponPricer</a>);</div><div class="line"></div><div class="line">         <span class="comment">// optionLet volatilities</span></div><div class="line">         <a name="a59"></a><a class="code" href="../../d6/d59/group__types.html#gaaa95ab7fe66935e3f7535413fad2a7d3">Volatility</a> <a name="a60"></a><a class="code" href="../../dc/da8/group__manips.html#gac402ef7c87f63f7c603ee87210b5750c">volatility</a> = 0.0;</div><div class="line">         <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;OptionletVolatilityStructure&gt;</a> vol;</div><div class="line">         vol = <a class="code" href="../../dc/dac/class_quant_lib_1_1_handle.html">Handle&lt;OptionletVolatilityStructure&gt;</a>(</div><div class="line">                 boost::shared_ptr&lt;OptionletVolatilityStructure&gt;(<span class="keyword">new</span></div><div class="line">                         <a name="_a61"></a><a class="code" href="../../d9/d44/class_quant_lib_1_1_constant_optionlet_volatility.html">ConstantOptionletVolatility</a>(</div><div class="line">                                 settlementDays,</div><div class="line">                                 calendar,</div><div class="line">                                 <a class="code" href="../../d1/d37/group__datetime.html#ggaff46c5ae9385d20709bedade86edd368a013e092c359f6031cc0563fd413ce707">ModifiedFollowing</a>,</div><div class="line">                                 <a class="code" href="../../dc/da8/group__manips.html#gac402ef7c87f63f7c603ee87210b5750c">volatility</a>,</div><div class="line">                                 <a class="code" href="../../d8/dbb/class_quant_lib_1_1_actual365_fixed.html">Actual365Fixed</a>())));</div><div class="line"></div><div class="line">         pricer-&gt;setCapletVolatility(vol);</div><div class="line">         <a name="a62"></a><a class="code" href="../../d5/d7b/namespace_quant_lib.html#a05bdba6cc9ce92d9386d4eefb8fcdd69">setCouponPricer</a>(floatingRateBond.cashflows(),pricer);</div><div class="line"></div><div class="line">         <span class="comment">// Yield curve bootstrapping</span></div><div class="line">         forecastingTermStructure.<a name="a63"></a><a class="code" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html#a7eec88ccb240dcc59ac81e7347c335bd">linkTo</a>(depoSwapTermStructure);</div><div class="line">         discountingTermStructure.<a class="code" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html#a7eec88ccb240dcc59ac81e7347c335bd">linkTo</a>(bondDiscountingTermStructure);</div><div class="line"></div><div class="line">         <span class="comment">// We are using the depo &amp; swap curve to estimate the future Libor rates</span></div><div class="line">         liborTermStructure.<a class="code" href="../../d8/d4a/class_quant_lib_1_1_relinkable_handle.html#a7eec88ccb240dcc59ac81e7347c335bd">linkTo</a>(depoSwapTermStructure);</div><div class="line"></div><div class="line">         <span class="comment">/***************</span></div><div class="line"><span class="comment">          * BOND PRICING *</span></div><div class="line"><span class="comment">          ****************/</span></div><div class="line"></div><div class="line">         std::cout &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         <span class="comment">// write column headings</span></div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> widths[] = { 18, 10, 10, 10 };</div><div class="line"></div><div class="line">         std::cout &lt;&lt; std::setw(widths[0]) &lt;&lt;  <span class="stringliteral">&quot;                 &quot;</span></div><div class="line">         &lt;&lt; std::setw(widths[1]) &lt;&lt; <span class="stringliteral">&quot;ZC&quot;</span></div><div class="line">         &lt;&lt; std::setw(widths[2]) &lt;&lt; <span class="stringliteral">&quot;Fixed&quot;</span></div><div class="line">         &lt;&lt; std::setw(widths[3]) &lt;&lt; <span class="stringliteral">&quot;Floating&quot;</span></div><div class="line">         &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gaf38bdb4c54463b1f456655efa95b5c77">Size</a> width = widths[0] + widths[1] + widths[2] + widths[3];</div><div class="line">         std::string rule(width, <span class="charliteral">&#39;-&#39;</span>);</div><div class="line"></div><div class="line">         std::cout &lt;&lt; rule &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         std::cout &lt;&lt; std::fixed;</div><div class="line">         std::cout &lt;&lt; std::setprecision(2);</div><div class="line"></div><div class="line">         std::cout &lt;&lt; std::setw(widths[0]) &lt;&lt; <span class="stringliteral">&quot;Net present value&quot;</span></div><div class="line">         &lt;&lt; std::setw(widths[1]) &lt;&lt; zeroCouponBond.NPV()</div><div class="line">         &lt;&lt; std::setw(widths[2]) &lt;&lt; fixedRateBond.NPV()</div><div class="line">         &lt;&lt; std::setw(widths[3]) &lt;&lt; floatingRateBond.NPV()</div><div class="line">         &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         std::cout &lt;&lt; std::setw(widths[0]) &lt;&lt; <span class="stringliteral">&quot;Clean price&quot;</span></div><div class="line">         &lt;&lt; std::setw(widths[1]) &lt;&lt; zeroCouponBond.cleanPrice()</div><div class="line">         &lt;&lt; std::setw(widths[2]) &lt;&lt; fixedRateBond.cleanPrice()</div><div class="line">         &lt;&lt; std::setw(widths[3]) &lt;&lt; floatingRateBond.cleanPrice()</div><div class="line">         &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         std::cout &lt;&lt; std::setw(widths[0]) &lt;&lt; <span class="stringliteral">&quot;Dirty price&quot;</span></div><div class="line">         &lt;&lt; std::setw(widths[1]) &lt;&lt; zeroCouponBond.dirtyPrice()</div><div class="line">         &lt;&lt; std::setw(widths[2]) &lt;&lt; fixedRateBond.dirtyPrice()</div><div class="line">         &lt;&lt; std::setw(widths[3]) &lt;&lt; floatingRateBond.dirtyPrice()</div><div class="line">         &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         std::cout &lt;&lt; std::setw(widths[0]) &lt;&lt; <span class="stringliteral">&quot;Accrued coupon&quot;</span></div><div class="line">         &lt;&lt; std::setw(widths[1]) &lt;&lt; zeroCouponBond.accruedAmount()</div><div class="line">         &lt;&lt; std::setw(widths[2]) &lt;&lt; fixedRateBond.accruedAmount()</div><div class="line">         &lt;&lt; std::setw(widths[3]) &lt;&lt; floatingRateBond.accruedAmount()</div><div class="line">         &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         std::cout &lt;&lt; std::setw(widths[0]) &lt;&lt; <span class="stringliteral">&quot;Previous coupon&quot;</span></div><div class="line">         &lt;&lt; std::setw(widths[1]) &lt;&lt; <span class="stringliteral">&quot;N/A&quot;</span> <span class="comment">// zeroCouponBond</span></div><div class="line">         &lt;&lt; std::setw(widths[2]) &lt;&lt; <a name="a64"></a><a class="code" href="../../dc/da8/group__manips.html#gac63ea3dad10259db3764c7d15a61cde5">io::rate</a>(fixedRateBond.previousCouponRate())</div><div class="line">         &lt;&lt; std::setw(widths[3]) &lt;&lt; <a class="code" href="../../dc/da8/group__manips.html#gac63ea3dad10259db3764c7d15a61cde5">io::rate</a>(floatingRateBond.previousCouponRate())</div><div class="line">         &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         std::cout &lt;&lt; std::setw(widths[0]) &lt;&lt; <span class="stringliteral">&quot;Next coupon&quot;</span></div><div class="line">         &lt;&lt; std::setw(widths[1]) &lt;&lt; <span class="stringliteral">&quot;N/A&quot;</span> <span class="comment">// zeroCouponBond</span></div><div class="line">         &lt;&lt; std::setw(widths[2]) &lt;&lt; <a class="code" href="../../dc/da8/group__manips.html#gac63ea3dad10259db3764c7d15a61cde5">io::rate</a>(fixedRateBond.nextCouponRate())</div><div class="line">         &lt;&lt; std::setw(widths[3]) &lt;&lt; <a class="code" href="../../dc/da8/group__manips.html#gac63ea3dad10259db3764c7d15a61cde5">io::rate</a>(floatingRateBond.nextCouponRate())</div><div class="line">         &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         std::cout &lt;&lt; std::setw(widths[0]) &lt;&lt; <span class="stringliteral">&quot;Yield&quot;</span></div><div class="line">         &lt;&lt; std::setw(widths[1])</div><div class="line">         &lt;&lt; <a class="code" href="../../dc/da8/group__manips.html#gac63ea3dad10259db3764c7d15a61cde5">io::rate</a>(zeroCouponBond.yield(<a class="code" href="../../dd/d4e/class_quant_lib_1_1_actual360.html">Actual360</a>(),<a name="a65"></a><a class="code" href="../../d5/d7b/namespace_quant_lib.html#a2779d04b4839fd386b5c85bbb96aaf73a7f3e11143ca01a7d20f92e11ad445e0c">Compounded</a>,<a class="code" href="../../d1/d37/group__datetime.html#gga6d41db8ba0ea90d22df35889df452adaa508b18014c96e2d466c12b39d7f4e426">Annual</a>))</div><div class="line">         &lt;&lt; std::setw(widths[2])</div><div class="line">         &lt;&lt; <a class="code" href="../../dc/da8/group__manips.html#gac63ea3dad10259db3764c7d15a61cde5">io::rate</a>(fixedRateBond.yield(<a class="code" href="../../dd/d4e/class_quant_lib_1_1_actual360.html">Actual360</a>(),<a class="code" href="../../d5/d7b/namespace_quant_lib.html#a2779d04b4839fd386b5c85bbb96aaf73a7f3e11143ca01a7d20f92e11ad445e0c">Compounded</a>,<a class="code" href="../../d1/d37/group__datetime.html#gga6d41db8ba0ea90d22df35889df452adaa508b18014c96e2d466c12b39d7f4e426">Annual</a>))</div><div class="line">         &lt;&lt; std::setw(widths[3])</div><div class="line">         &lt;&lt; <a class="code" href="../../dc/da8/group__manips.html#gac63ea3dad10259db3764c7d15a61cde5">io::rate</a>(floatingRateBond.yield(<a class="code" href="../../dd/d4e/class_quant_lib_1_1_actual360.html">Actual360</a>(),<a class="code" href="../../d5/d7b/namespace_quant_lib.html#a2779d04b4839fd386b5c85bbb96aaf73a7f3e11143ca01a7d20f92e11ad445e0c">Compounded</a>,<a class="code" href="../../d1/d37/group__datetime.html#gga6d41db8ba0ea90d22df35889df452adaa508b18014c96e2d466c12b39d7f4e426">Annual</a>))</div><div class="line">         &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         std::cout &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         <span class="comment">// Other computations</span></div><div class="line">         std::cout &lt;&lt; <span class="stringliteral">&quot;Sample indirect computations (for the floating rate bond): &quot;</span> &lt;&lt; std::endl;</div><div class="line">         std::cout &lt;&lt; rule &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         std::cout &lt;&lt; <span class="stringliteral">&quot;Yield to Clean Price: &quot;</span></div><div class="line">         &lt;&lt; floatingRateBond.cleanPrice(floatingRateBond.yield(<a class="code" href="../../dd/d4e/class_quant_lib_1_1_actual360.html">Actual360</a>(),<a class="code" href="../../d5/d7b/namespace_quant_lib.html#a2779d04b4839fd386b5c85bbb96aaf73a7f3e11143ca01a7d20f92e11ad445e0c">Compounded</a>,<a class="code" href="../../d1/d37/group__datetime.html#gga6d41db8ba0ea90d22df35889df452adaa508b18014c96e2d466c12b39d7f4e426">Annual</a>),<a class="code" href="../../dd/d4e/class_quant_lib_1_1_actual360.html">Actual360</a>(),<a class="code" href="../../d5/d7b/namespace_quant_lib.html#a2779d04b4839fd386b5c85bbb96aaf73a7f3e11143ca01a7d20f92e11ad445e0c">Compounded</a>,<a class="code" href="../../d1/d37/group__datetime.html#gga6d41db8ba0ea90d22df35889df452adaa508b18014c96e2d466c12b39d7f4e426">Annual</a>,settlementDate) &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         std::cout &lt;&lt; <span class="stringliteral">&quot;Clean Price to Yield: &quot;</span></div><div class="line">         &lt;&lt; <a class="code" href="../../dc/da8/group__manips.html#gac63ea3dad10259db3764c7d15a61cde5">io::rate</a>(floatingRateBond.yield(floatingRateBond.cleanPrice(),<a class="code" href="../../dd/d4e/class_quant_lib_1_1_actual360.html">Actual360</a>(),<a class="code" href="../../d5/d7b/namespace_quant_lib.html#a2779d04b4839fd386b5c85bbb96aaf73a7f3e11143ca01a7d20f92e11ad445e0c">Compounded</a>,<a class="code" href="../../d1/d37/group__datetime.html#gga6d41db8ba0ea90d22df35889df452adaa508b18014c96e2d466c12b39d7f4e426">Annual</a>,settlementDate)) &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         <span class="comment">/* &quot;Yield to Price&quot;</span></div><div class="line"><span class="comment">            &quot;Price to Yield&quot; */</span></div><div class="line"></div><div class="line">         <span class="keywordtype">double</span> seconds = timer.elapsed();</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gab9c87440c314438e51a899a03d2442d0">Integer</a> hours = int(seconds/3600);</div><div class="line">         seconds -= hours * 3600;</div><div class="line">         <a class="code" href="../../d6/d59/group__types.html#gab9c87440c314438e51a899a03d2442d0">Integer</a> minutes = int(seconds/60);</div><div class="line">         seconds -= minutes * 60;</div><div class="line">         std::cout &lt;&lt; <span class="stringliteral">&quot; \nRun completed in &quot;</span>;</div><div class="line">         <span class="keywordflow">if</span> (hours &gt; 0)</div><div class="line">             std::cout &lt;&lt; hours &lt;&lt; <span class="stringliteral">&quot; h &quot;</span>;</div><div class="line">         <span class="keywordflow">if</span> (hours &gt; 0 || minutes &gt; 0)</div><div class="line">             std::cout &lt;&lt; minutes &lt;&lt; <span class="stringliteral">&quot; m &quot;</span>;</div><div class="line">         std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(0)</div><div class="line">         &lt;&lt; seconds &lt;&lt; <span class="stringliteral">&quot; s\n&quot;</span> &lt;&lt; std::endl;</div><div class="line"></div><div class="line">         <span class="keywordflow">return</span> 0;</div><div class="line"></div><div class="line">    } <span class="keywordflow">catch</span> (std::exception&amp; e) {</div><div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line">        <span class="keywordflow">return</span> 1;</div><div class="line">    } <span class="keywordflow">catch</span> (...) {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;unknown error&quot;</span> &lt;&lt; std::endl;</div><div class="line">        <span class="keywordflow">return</span> 1;</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> </div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a>
1.8.14
</small></address>
</body>
</html>
